/* Copyright (C) 2007-2015, GoodData(R) Corporation. All rights reserved. */
/* @gooddata/gooddata-js - v13.0.4 */
/* 2020-07-16 13:37:58 */
/* Latest git commit: "a759579" */


!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.gooddata=e():t.gooddata=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0}),r(1);var o=r(3);e.SDK=o.SDK;var u=r(48);e.ApiResponse=u.ApiResponse,e.ApiResponseError=u.ApiResponseError,e.ApiNetworkError=u.ApiNetworkError;var s=r(184);e.ApiExecutionResponseError=s.ApiExecutionResponseError;var a=i(r(116));e.referenceHandling=a;var c=i(r(209));e.DataLayer=c;var f=i(r(267));e.TypeGuards=f;var l=o.factory(fetch.bind(window));e.factory=l,n(r(268)),e.default=l()},function(t,e,r){r(2),t.exports=self.fetch.bind(self)},function(t,e,r){!function(t,r){r(e)}(this,function(t){"use strict";function e(t){return t&&DataView.prototype.isPrototypeOf(t)}function r(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function u(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function a(t){var e=new FileReader,r=s(e);return e.readAsArrayBuffer(t),r}function c(t){var e=new FileReader,r=s(e);return e.readAsText(t),r}function f(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:g.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:g.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():g.arrayBuffer&&g.blob&&e(t)?(this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):g.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||x(t))?this._bodyArrayBuffer=l(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(f(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t){var e=t.toUpperCase();return A.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var r=e.body;if(t instanceof h){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=p(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}}),e}function b(t){var e=new o,r=t.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}}),e}function m(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}function y(e,r){return new Promise(function(n,i){function o(){s.abort()}var u=new h(e,r);if(u.signal&&u.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:b(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;n(new m(e,t))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(u.method,u.url,!0),"include"===u.credentials?s.withCredentials=!0:"omit"===u.credentials&&(s.withCredentials=!1),"responseType"in s&&g.blob&&(s.responseType="blob"),u.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),u.signal&&(u.signal.addEventListener("abort",o),s.onreadystatechange=function(){4===s.readyState&&u.signal.removeEventListener("abort",o)}),s.send("undefined"==typeof u._bodyInit?null:u._bodyInit)})}var g={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(g.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x=ArrayBuffer.isView||function(t){return t&&_.indexOf(Object.prototype.toString.call(t))>-1};o.prototype.append=function(t,e){t=r(t),e=n(e);var i=this.map[t];this.map[t]=i?i+", "+e:e},o.prototype.delete=function(t){delete this.map[r(t)]},o.prototype.get=function(t){return t=r(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(r(t))},o.prototype.set=function(t,e){this.map[r(t)]=n(e)},o.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),i(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),i(t)},g.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},d.call(h.prototype),d.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var D=[301,302,303,307,308];m.redirect=function(t,e){if(D.indexOf(e)===-1)throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.DOMException=self.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}y.polyfill=!0,self.fetch||(self.fetch=y,self.Headers=o,self.Request=h,self.Response=m),t.Headers=o,t.Request=h,t.Response=m,t.fetch=y,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(4)),o=r(48),u=r(93),s=r(100),a=r(147),c=r(94),f=r(189),l=r(193),d=r(194),p=r(195),h=r(196),v=r(182),b=r(183),m=r(116),y=r(206),g=r(208),_=function(){function t(t,e){void 0===e&&(e={}),this.fetchMethod=t,this.configStorage=d.sanitizeConfig(e),this.config=new d.ConfigModule(this.configStorage),this.xhr=new o.XhrModule(t,this.configStorage),this.user=new u.UserModule(this.xhr),this.md=new s.MetadataModule(this.xhr),this.mdExt=new y.MetadataModuleExt(this.xhr),this.execution=new a.ExecutionModule(this.xhr,this.md),this.project=new c.ProjectModule(this.xhr),this.report=new f.ReportModule(this.xhr),this.dashboard=new l.DashboardModule(this.xhr),this.catalogue=new p.CatalogueModule(this.xhr,this.execution),this.admin=new h.AdminModule(this.xhr),this.bootstrap=new g.BootstrapModule(this.xhr);var r=new v.AttributesMapLoaderModule(this.md);this.utils={loadAttributesMap:r.loadAttributesMap.bind(r),getAttributesDisplayForms:b.getAttributesDisplayForms,convertReferencesToUris:m.convertReferencesToUris,convertUrisToReferences:m.convertUrisToReferences}}return t.prototype.clone=function(){return new t(this.fetchMethod,i.default(this.configStorage))},t}();e.SDK=_,e.factory=function(t){return function(e){return void 0===e&&(e={}),new _(t,e)}}},function(t,e,r){function n(t){return i(t,o|u)}var i=r(5),o=1,u=4;t.exports=n},function(t,e,r){function n(t,e,r,P,w,M){var C,F=e&T,N=e&S,k=e&E;if(r&&(C=w?r(t,P,w,M):r(t)),void 0!==C)return C;if(!A(t))return t;var z=g(t);if(z){if(C=b(t),!F)return f(t,C)}else{var L=v(t),G=L==R||L==I;if(_(t))return c(t,F);if(L==U||L==j||G&&!w){if(C=N||G?{}:y(t),!F)return N?d(t,a(C,t)):l(t,s(C,t))}else{if(!tt[L])return w?t:{};C=m(t,L,F)}}M||(M=new i);var B=M.get(t);if(B)return B;M.set(t,C),D(t)?t.forEach(function(i){C.add(n(i,e,r,i,t,M))}):x(t)&&t.forEach(function(i,o){C.set(o,n(i,e,r,o,t,M))});var V=k?N?h:p:N?keysIn:O,q=z?void 0:V(t);return o(q||t,function(i,o){q&&(o=i,i=t[o]),u(C,o,n(i,e,r,o,t,M))}),C}var i=r(6),o=r(14),u=r(15),s=r(19),a=r(23),c=r(25),f=r(29),l=r(30),d=r(32),p=r(34),h=r(35),v=r(36),b=r(37),m=r(38),y=r(39),g=r(44),_=r(45),x=r(46),A=r(41),D=r(47),O=r(21),T=1,S=2,E=4,j="[object Arguments]",P="[object Array]",w="[object Boolean]",M="[object Date]",C="[object Error]",R="[object Function]",I="[object GeneratorFunction]",F="[object Map]",N="[object Number]",U="[object Object]",k="[object RegExp]",z="[object Set]",L="[object String]",G="[object Symbol]",B="[object WeakMap]",V="[object ArrayBuffer]",q="[object DataView]",H="[object Float32Array]",J="[object Float64Array]",W="[object Int8Array]",Q="[object Int16Array]",K="[object Int32Array]",Y="[object Uint8Array]",$="[object Uint8ClampedArray]",X="[object Uint16Array]",Z="[object Uint32Array]",tt={};tt[j]=tt[P]=tt[V]=tt[q]=tt[w]=tt[M]=tt[H]=tt[J]=tt[W]=tt[Q]=tt[K]=tt[F]=tt[N]=tt[U]=tt[k]=tt[z]=tt[L]=tt[G]=tt[Y]=tt[$]=tt[X]=tt[Z]=!0,tt[C]=tt[R]=tt[B]=!1,t.exports=n},function(t,e,r){function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var i=r(7),o=r(8),u=r(11),s=r(12),a=r(13);n.prototype.clear=i,n.prototype.delete=o,n.prototype.get=u,n.prototype.has=s,n.prototype.set=a,t.exports=n},function(t,e){function r(){this.__data__=[],this.size=0}t.exports=r},function(t,e,r){function n(t){var e=this.__data__,r=i(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():u.call(e,r,1),--this.size,!0}var i=r(9),o=Array.prototype,u=o.splice;t.exports=n},function(t,e,r){function n(t,e){for(var r=t.length;r--;)if(i(t[r][0],e))return r;return-1}var i=r(10);t.exports=n},function(t,e){function r(t,e){return t===e||t!==t&&e!==e}t.exports=r},function(t,e,r){function n(t){var e=this.__data__,r=i(e,t);return r<0?void 0:e[r][1]}var i=r(9);t.exports=n},function(t,e,r){function n(t){return i(this.__data__,t)>-1}var i=r(9);t.exports=n},function(t,e,r){function n(t,e){var r=this.__data__,n=i(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var i=r(9);t.exports=n},function(t,e){function r(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}t.exports=r},function(t,e,r){function n(t,e,r){var n=t[e];s.call(t,e)&&o(n,r)&&(void 0!==r||e in t)||i(t,e,r)}var i=r(16),o=r(10),u=Object.prototype,s=u.hasOwnProperty;t.exports=n},function(t,e,r){function n(t,e,r){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var i=r(17);t.exports=n},function(t,e,r){var n=r(18),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){function r(t,e){return null==t?void 0:t[e]}t.exports=r},function(t,e,r){function n(t,e){return t&&i(e,o(e),t)}var i=r(20),o=r(21);t.exports=n},function(t,e,r){function n(t,e,r,n){var u=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var c=e[s],f=n?n(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),u?o(r,c,f):i(r,c,f)}return r}var i=r(15),o=r(16);t.exports=n},function(t,e,r){var n=r(22),i=n(Object.keys,Object);t.exports=i},function(t,e){function r(t,e){return function(r){return t(e(r))}}t.exports=r},function(t,e,r){function n(t,e){return t&&i(e,o(e),t)}var i=r(20),o=r(24);t.exports=n},function(t,e){function r(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}t.exports=r},function(t,e,r){(function(t){function n(t,e){if(e)return t.slice();var r=t.length,n=c?c(r):new t.constructor(r);return t.copy(n),n}var i=r(27),o="object"==typeof e&&e&&!e.nodeType&&e,u=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=u&&u.exports===o,a=s?i.Buffer:void 0,c=a?a.allocUnsafe:void 0;t.exports=n}).call(e,r(26)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){var n=r(28),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},function(t,e){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(e,function(){return this}())},function(t,e){function r(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}t.exports=r},function(t,e,r){function n(t,e){return i(t,o(t),e)}var i=r(20),o=r(31);t.exports=n},function(t,e){function r(){return[]}t.exports=r},function(t,e,r){function n(t,e){return i(t,o(t),e)}var i=r(20),o=r(33);t.exports=n},function(t,e){function r(){return[]}t.exports=r},function(t,e,r){var n=r(22),i=n(Object.keys,Object);t.exports=i},function(t,e){function r(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}t.exports=r},function(t,e){function r(t){return i.call(t)}var n=Object.prototype,i=n.toString;t.exports=r},function(t,e){function r(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var n=Object.prototype,i=n.hasOwnProperty;t.exports=r},function(t,e){function r(t){return t}t.exports=r},function(t,e,r){function n(t){return"function"!=typeof t.constructor||u(t)?{}:i(o(t))}var i=r(40),o=r(42),u=r(43);t.exports=n},function(t,e,r){var n=r(41),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},function(t,e){function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=r},function(t,e,r){var n=r(22),i=n(Object.getPrototypeOf,Object);t.exports=i},function(t,e){function r(){return!1}t.exports=r},function(t,e){var r=Array.isArray;t.exports=r},function(t,e){function r(){return!1}t.exports=r},function(t,e){function r(){return!1}t.exports=r},function(t,e){function r(){return!1}t.exports=r},function(t,e,r){"use strict";function n(t,e){var r={setRequestHeader:function(t,r){h.default(e,["headers",t],r)}};p.default(e.beforeSend)&&e.beforeSend(r,t)}function i(t,e,r){var n=t,i=e;return r&&(t.indexOf(r)===-1&&(n=r+t),i.mode="cors",i.credentials="include"),{url:n,settings:i}}function o(t,e,r){var n=m.default(e,"pollDelay");return new Promise(function(i,o){setTimeout(function(){r(t,e).then(i,o)},n)})}function u(t){var e=t.name,r=t.version;return{"X-GDC-JS-PKG":e,"X-GDC-JS-PKG-VERSION":r}}var s=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},a.apply(this,arguments)},c=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function u(t){try{a(n.next(t))}catch(t){o(t)}}function s(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(u,s)}a((n=n.apply(t,e||[])).next())})},f=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&r[0]?o.return:r[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,r[1])).done)return u;switch(o=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){a.label=r[1];break}if(6===r[0]&&a.label<u[1]){a.label=u[1],u=r;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(r);break}u[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{i=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var d=l(r(49)),p=l(r(52)),h=l(r(53)),v=l(r(63)),b=l(r(70)),m=l(r(87)),y=r(88),g=1e3,_="X-GDC-VERSION",x="X-GDC-DEPRECATED",A=5;e.handlePolling=o,e.originPackageHeaders=u;var D=function(t){function e(e,r){var n=t.call(this,e)||this;return n.cause=r,n}return s(e,t),e}(Error);e.ApiError=D;var O=function(t){function e(e,r,n){var i=t.call(this,e,null)||this;return i.response=r,i.responseBody=n,i}return s(e,t),e}(D);e.ApiResponseError=O;var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(D);e.ApiNetworkError=T;var S=function(){function t(t,e){this.response=t,this.responseBody=e}return Object.defineProperty(t.prototype,"data",{get:function(){try{return JSON.parse(this.responseBody)}catch(t){return this.responseBody}},enumerable:!0,configurable:!0}),t.prototype.getData=function(){try{return JSON.parse(this.responseBody)}catch(t){return this.responseBody}},t.prototype.getHeaders=function(){return this.response},t}();e.ApiResponse=S;var E=!0,j=function(){function t(t,e){this.fetch=t,this.configStorage=e,v.default(e,{xhrSettings:{}})}return t.prototype.ajaxSetup=function(t){Object.assign(this.configStorage.xhrSettings,t)},t.prototype.ajax=function(t,e){return void 0===e&&(e={}),c(this,void 0,Promise,function(){var r,u,s,a,c,l,d,p,h;return f(this,function(f){switch(f.label){case 0:if(r=this.createRequestSettings(e),u=i(t,r,this.configStorage.domain),s=u.url,a=u.settings,n(s,a),this.tokenRequest)return[2,this.continueAfterTokenRequest(s,a)];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.fetch(s,a)];case 2:return c=f.sent(),[3,4];case 3:throw l=f.sent(),new T(l.message,l);case 4:return[4,c.text()];case 5:if(d=f.sent(),401===c.status){if(s.indexOf("/gdc/account/login")!==-1)throw new O("Unauthorized",c,d);return[2,this.handleUnauthorized(s,a)]}if(202===c.status&&!a.dontPollOnResult)return p=c.url||s,h=a,c.headers.has("Location")&&(p=c.headers.get("Location")),h.method="GET",delete h.data,delete h.body,[2,o(p,h,this.ajax.bind(this))];if(this.verifyRestApiDeprecationStatus(c.headers),c.status>=200&&c.status<=399)return[2,new S(c,d)];throw new O(c.statusText,c,d)}})})},t.prototype.get=function(t,e){return this.ajax(t,b.default({method:"GET"},e))},t.prototype.head=function(t,e){return this.ajax(t,b.default({method:"HEAD"},e))},t.prototype.post=function(t,e){return this.ajax(t,b.default({method:"POST"},e))},t.prototype.put=function(t,e){return this.ajax(t,b.default({method:"PUT"},e))},t.prototype.del=function(t,e){return this.ajax(t,b.default({method:"DELETE"},e))},t.prototype.createRequestSettings=function(t){var e,r=b.default({headers:a((e={Accept:"application/json; charset=utf-8","Content-Type":"application/json"},e[_]=A,e),u(this.configStorage.originPackage||y.thisPackage))},this.configStorage.xhrSettings,t);return r.pollDelay=void 0!==r.pollDelay?r.pollDelay:g,r.body=r.data?r.data:r.body,r.mode="same-origin",r.credentials="same-origin",d.default(r.body)&&(r.body=JSON.stringify(r.body)),r},t.prototype.continueAfterTokenRequest=function(t,e){var r=this;return this.tokenRequest.then(function(n){return c(r,void 0,void 0,function(){return f(this,function(r){if(!n.ok)throw new O("Unauthorized",n,null);return this.tokenRequest=null,[2,this.ajax(t,e)]})})},function(t){return r.tokenRequest=null,t})},t.prototype.handleUnauthorized=function(t,e){return c(this,void 0,void 0,function(){var r,n,o,u,s;return f(this,function(a){switch(a.label){case 0:return this.tokenRequest?[2,this.continueAfterTokenRequest(t,e)]:(r=i("/gdc/account/token",this.createRequestSettings({}),this.configStorage.domain),n=r.url,o=r.settings,this.tokenRequest=this.fetch(n,o),[4,this.tokenRequest]);case 1:return u=a.sent(),[4,u.text()];case 2:if(s=a.sent(),this.tokenRequest=null,401===u.status)throw new O("Unauthorized",u,s);return[2,this.ajax(t,e)]}})})},t.prototype.logDeprecatedRestApiCall=function(t){console.warn("The REST API version "+A+" is deprecated ("+t+"). Please migrate your application to use GoodData.UI SDK or @gooddata/gooddata-js package that supports newer version of the API.")},t.prototype.isRestApiDeprecated=function(t){return t.has(x)},t.prototype.verifyRestApiDeprecationStatus=function(t){if(E&&this.isRestApiDeprecated(t)){var e=t.get(x);this.logDeprecatedRestApiCall(e),E=!1}},t}();e.XhrModule=j},function(t,e,r){function n(t){if(!u(t)||i(t)!=s)return!1;var e=o(t);if(null===e)return!0;var r=l.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&f.call(r)==d}var i=r(50),o=r(42),u=r(51),s="[object Object]",a=Function.prototype,c=Object.prototype,f=a.toString,l=c.hasOwnProperty,d=f.call(Object);t.exports=n},function(t,e){function r(t){return i.call(t)}var n=Object.prototype,i=n.toString;t.exports=r},function(t,e){function r(t){return null!=t&&"object"==typeof t}t.exports=r},function(t,e,r){function n(t){if(!o(t))return!1;var e=i(t);return e==s||e==a||e==u||e==c}var i=r(50),o=r(41),u="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";t.exports=n},function(t,e,r){function n(t,e,r){return null==t?t:i(t,e,r)}var i=r(54);t.exports=n},function(t,e,r){function n(t,e,r,n){if(!s(t))return t;e=o(e,t);for(var c=-1,f=e.length,l=f-1,d=t;null!=d&&++c<f;){var p=a(e[c]),h=r;if(c!=l){var v=d[p];h=n?n(v,p,d):void 0,void 0===h&&(h=s(v)?v:u(e[c+1])?[]:{})}i(d,p,h),d=d[p]}return t}var i=r(15),o=r(55),u=r(61),s=r(41),a=r(62);t.exports=n},function(t,e,r){function n(t,e){return i(t)?t:o(t,e)?[t]:u(s(t))}var i=r(44),o=r(56),u=r(58),s=r(60);t.exports=n},function(t,e,r){function n(t,e){if(i(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||(s.test(t)||!u.test(t)||null!=e&&t in Object(e))}var i=r(44),o=r(57),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=n},function(t,e){function r(){return!1}t.exports=r},function(t,e,r){var n=r(59),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,u=n(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)}),e});t.exports=u},function(t,e){function r(t){return t}t.exports=r},function(t,e){function r(t){return t}t.exports=r},function(t,e){function r(t,e){var r=typeof t;return e=null==e?n:e,!!e&&("number"==r||"symbol"!=r&&i.test(t))&&t>-1&&t%1==0&&t<e}var n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=r},function(t,e){function r(t){return t}t.exports=r},function(t,e,r){var n=r(64),i=r(10),o=r(69),u=r(24),s=Object.prototype,a=s.hasOwnProperty,c=n(function(t,e){t=Object(t);var r=-1,n=e.length,c=n>2?e[2]:void 0;for(c&&o(e[0],e[1],c)&&(n=1);++r<n;)for(var f=e[r],l=u(f),d=-1,p=l.length;++d<p;){var h=l[d],v=t[h];(void 0===v||i(v,s[h])&&!a.call(t,h))&&(t[h]=f[h])}return t});t.exports=c},function(t,e,r){function n(t,e){return u(o(t,e,i),t+"")}var i=r(65),o=r(66),u=r(68);t.exports=n},function(t,e){function r(t){return t}t.exports=r},function(t,e,r){function n(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var n=arguments,u=-1,s=o(n.length-e,0),a=Array(s);++u<s;)a[u]=n[e+u];u=-1;for(var c=Array(e+1);++u<e;)c[u]=n[u];return c[e]=r(a),i(t,this,c)}}var i=r(67),o=Math.max;t.exports=n},function(t,e){function r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}t.exports=r},function(t,e){function r(t){return t}t.exports=r},function(t,e){function r(){return!1}t.exports=r},function(t,e,r){var n=r(71),i=r(86),o=i(function(t,e,r){n(t,e,r)});t.exports=o},function(t,e,r){function n(t,e,r,l,d){t!==e&&u(e,function(u,c){if(d||(d=new i),a(u))s(t,e,c,r,n,l,d);else{var p=l?l(f(t,c),u,c+"",t,e,d):void 0;void 0===p&&(p=u),o(t,c,p)}},c)}var i=r(6),o=r(72),u=r(73),s=r(75),a=r(41),c=r(24),f=r(84);t.exports=n},function(t,e,r){function n(t,e,r){(void 0===r||o(t[e],r))&&(void 0!==r||e in t)||i(t,e,r)}var i=r(16),o=r(10);t.exports=n},function(t,e,r){var n=r(74),i=n();t.exports=i},function(t,e){function r(t){return function(e,r,n){for(var i=-1,o=Object(e),u=n(e),s=u.length;s--;){var a=u[t?s:++i];if(r(o[a],a,o)===!1)break}return e}}t.exports=r},function(t,e,r){function n(t,e,r,n,g,_,x){var A=m(t,r),D=m(e,r),O=x.get(D);if(O)return void i(t,r,O);var T=_?_(A,D,r+"",t,e,x):void 0,S=void 0===T;if(S){var E=f(D),j=!E&&d(D),P=!E&&!j&&b(D);T=D,E||j||P?f(A)?T=A:l(A)?T=s(A):j?(S=!1,T=o(D,!0)):P?(S=!1,T=u(D,!0)):T=[]:v(D)||c(D)?(T=A,c(A)?T=y(A):h(A)&&!p(A)||(T=a(D))):S=!1}S&&(x.set(D,T),g(T,D,n,_,x),x.delete(D)),i(t,r,T)}var i=r(72),o=r(25),u=r(76),s=r(29),a=r(39),c=r(79),f=r(44),l=r(80),d=r(45),p=r(52),h=r(41),v=r(49),b=r(83),m=r(84),y=r(85);t.exports=n},function(t,e,r){function n(t,e){var r=e?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var i=r(77);t.exports=n},function(t,e,r){function n(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}var i=r(78);t.exports=n},function(t,e,r){var n=r(27),i=n.Uint8Array;t.exports=i},function(t,e){function r(){return!1}t.exports=r},function(t,e,r){function n(t){return o(t)&&i(t)}var i=r(81),o=r(51);t.exports=n},function(t,e,r){function n(t){return null!=t&&o(t.length)&&!i(t)}var i=r(52),o=r(82);t.exports=n},function(t,e){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}var n=9007199254740991;t.exports=r},function(t,e){function r(){return!1}t.exports=r},function(t,e){function r(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}t.exports=r},function(t,e,r){function n(t){return i(t,o(t))}var i=r(20),o=r(24);t.exports=n},function(t,e,r){function n(t){return i(function(e,r){var n=-1,i=r.length,u=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(u=t.length>3&&"function"==typeof u?(i--,u):void 0,s&&o(r[0],r[1],s)&&(u=i<3?void 0:u,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,u)}return e})}var i=r(64),o=r(69);t.exports=n},function(t,e,r){function n(t,e,r){e=i(e,t);var n=-1,s=e.length;for(s||(s=1,t=void 0);++n<s;){var a=null==t?void 0:t[u(e[n])];void 0===a&&(n=s,a=r),t=o(a)?a.call(t):a}return t}var i=r(55),o=r(52),u=r(62);t.exports=n},function(t,e,r){"use strict";function n(t){function e(t,e){return Array.isArray(e)?e.map(function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(e)}return t?"?"+Object.keys(t).map(function(r){return e(r,t[r])}).join("&"):""}function i(t,e,r,n,o){void 0===n&&(n=0),void 0===o&&(o=[]);var u=100;return new Promise(function(a,c){t.get(e+"?offset="+n+"&limit="+u).then(function(t){return t.getData()}).then(function(c){var f=s.default(c,r),l=o.concat(f.items),d=s.default(f,"paging.totalCount",0),p=n+u;a(p>d?l:i(t,e,r,p,l))},c)})}var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},o.apply(this,arguments)},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=u(r(89)),a=r(91),c=r(48),f=r(92);e.thisPackage={name:f.name,version:f.version},e.getIn=function(t){return function(e){return s.default(e,t)}},e.handlePolling=function(t,r,n,i){void 0===i&&(i={});var u=i.attempts,s=void 0===u?0:u,c=i.maxAttempts,f=void 0===c?50:c,l=i.pollStep,d=void 0===l?5e3:l;return t(r).then(function(t){return t.getData()}).then(function(u){return s>f?Promise.reject(new Error(u)):n(u)?Promise.resolve(u):a.delay(d).then(function(){return e.handlePolling(t,r,n,o({},i,{attempts:s+1}))})})},e.handleHeadPolling=function(t,r,n,i){void 0===i&&(i={});var u=i.attempts,s=void 0===u?0:u,f=i.maxAttempts,l=void 0===f?50:f,d=i.pollStep,p=void 0===d?5e3:d;return t(r).then(function(u){if(s>l)return Promise.reject(new Error("Export timeout!!!"));var f=u.getHeaders();return n(f,u)?200===f.status?Promise.resolve({uri:r}):Promise.reject(new c.ApiResponseError(u.statusText,u,u.getData())):a.delay(p).then(function(){return e.handleHeadPolling(t,r,n,o({},i,{attempts:s+1}))})})},e.queryString=n,e.getAllPagesByOffsetLimit=i},function(t,e,r){function n(t,e,r){var n=null==t?void 0:i(t,e);return void 0===n?r:n}var i=r(90);t.exports=n},function(t,e,r){function n(t,e){e=i(e,t);for(var r=0,n=e.length;null!=t&&r<n;)t=t[o(e[r++])];return r&&r==n?t:void 0}var i=r(55),o=r(62);t.exports=n},function(t,e){"use strict";function r(t){return new Promise(function(e){setTimeout(function(){return e()},t)})}Object.defineProperty(e,"__esModule",{
value:!0}),e.delay=r},function(t,e){t.exports={name:"@gooddata/gooddata-js",version:"13.0.4",author:"GoodData",description:"GoodData JavaScript SDK",license:"BSD-3-Clause",main:"lib/gooddata-node.js",browser:"lib/gooddata-browser.js",typings:"lib/gooddata-browser.d.ts",files:["dist","lib","src","LICENSE"],config:{tslint:"./{src,test}/**/*.ts"},scripts:{dev:"tsc --watch",build:"yarn run build:lib && yarn run build:dist","build:lib":"rm -rf lib && tsc -p tsconfig.build.json","build:dist":"rm -rf dist && grunt dist",prepublishOnly:"yarn run build",test:"jest --watch","test-once":"jest","test-ci":"JEST_JUNIT_OUTPUT=./ci/results/test-results.xml jest --config jest.ci.json","run-tslint":"tslint -p tsconfig.json",tslint:"yarn run-tslint -t verbose $npm_package_config_tslint","tslint-ci":"mkdir -p ./ci/results && yarn run-tslint -t checkstyle -o ./ci/results/tslint-results.xml $npm_package_config_tslint","prettier-check":"prettier --check '{src,test}/**/*.{ts,tsx,json,scss,md,yaml,html}'","prettier-write":"prettier --write '{src,test}/**/*.{ts,tsx,json,scss,md,yaml,html}'",validate:"tsc --noEmit && yarn tslint && yarn prettier-check","validate-ci":"tsc --noEmit && yarn tslint-ci && yarn prettier-check"},repository:{type:"git",url:"git@github.com:gooddata/gooddata-js.git"},jest:{setupFilesAfterEnv:["<rootDir>/jest.setup.js"],transform:{".(ts|tsx)":"ts-jest"},testRegex:"(/__tests__/.*|\\.(test|spec))\\.(tsx?)$",collectCoverageFrom:["src/**/*.{ts,tsx}","!**/*.d.ts"],collectCoverage:!1,coverageReporters:["html"],moduleFileExtensions:["ts","tsx","js"]},devDependencies:{"@gooddata/frontend-npm-scripts":"1.2.0","@gooddata/tslint-config":"^1.0.0","@types/fast-levenshtein":"0.0.1","@types/fetch-mock":"5.*","@types/invariant":"^2.2.29","@types/isomorphic-fetch":"^0.0.34","@types/jest":"24.0.6","@types/json-stable-stringify":"^1.0.32","@types/lodash":"^4.14.121","@types/md5":"^2.1.32","@types/node-fetch":"1.6.7","@types/qs":"^6.5.1","@types/uuid":"^3.4.4",async:"2.1.5","exports-loader":"0.6.3","fast-levenshtein":"2.0.6","fetch-mock":"5.12.2",grunt:"1.0.4","grunt-cli":"1.2.0","grunt-contrib-copy":"0.8.2","grunt-contrib-watch":"1.1.0","grunt-contrib-yuidoc":"1.0.0","grunt-gh-pages":"2.0.0","grunt-grizzly":"0.17.0","grunt-run":"0.8.0","grunt-webpack":"1.0.14",husky:"3.0.0","imports-loader":"0.7.0","istanbul-instrumenter-loader":"0.2.0",jest:"^25.5.4","jest-junit":"3.0.0","js-object-pretty-print":"0.2.0","json-loader":"0.5.4","lint-staged":"9.1.0","lodash-webpack-plugin":"0.11.0",prettier:"^1.18.2","ts-jest":"25.3.1","ts-loader":"3.5.0","tslint-config-prettier":"^1.18.0",typescript:"3.3.4000",webpack:"^1.15.0","webpack-dev-server":"^1.16.5"},dependencies:{"@gooddata/typings":"^2.26.0","es6-promise":"^3.0.2","fetch-cookie":"^0.7.0",invariant:"^2.2.2","isomorphic-fetch":"^2.2.1","json-stable-stringify":"^1.0.1",lodash:"^4.7.11",md5:"^2.2.1","node-fetch":"^1.7.3",qs:"^6.5.1",rxjs:"^5.5.6",uuid:"^3.2.1"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"{src,test}/**/*.{ts,tsx,json,scss,md,yaml,html}":["prettier --write","git add"],"{src,test}/**/*.{ts,js,tsx,jsx,scss}":["npx gdc-fix-copyright","git add"]}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(94),o=n(r(95)),u=function(){function t(t){this.xhr=t}return t.prototype.isLoggedIn=function(){var t=this;return new Promise(function(e,r){t.xhr.get("/gdc/account/token").then(function(t){t.response.ok&&e(!0),e(!1)},function(t){401===t.response.status?e(!1):r(t)})})},t.prototype.isLoggedInProject=function(t){var e=this;return this.getCurrentProfile().then(function(r){return new Promise(function(n,o){var u=new i.ProjectModule(e.xhr);u.getProjects(r.links.self.split("/")[4]).then(function(e){n(e.find(function(e){return e.links.self==="/gdc/projects/"+t})?!0:!1)},function(t){o(t)})})})},t.prototype.login=function(t,e){return this.xhr.post("/gdc/account/login",{body:JSON.stringify({postUserLogin:{login:t,password:e,remember:1,captcha:"",verifyCaptcha:""}})}).then(function(t){return t.getData()})},t.prototype.loginSso=function(t,e,r){return this.xhr.post("/gdc/account/customerlogin",{data:{pgpLoginRequest:{targetUrl:r,ssoProvider:e,encryptedClaims:t}}})},t.prototype.logout=function(){var t=this;return this.isLoggedIn().then(function(e){return e?t.xhr.get("/gdc/app/account/bootstrap").then(function(e){var r=e.getData(),n=r.bootstrapResource.accountSetting.links.self,i=n.match(/([^\/]+)\/?$/)[1];return t.xhr.del("/gdc/account/login/"+i)}):Promise.resolve()},function(t){return Promise.reject(t)})},t.prototype.getCurrentProfile=function(){return this.xhr.get("/gdc/account/profile/current").then(function(t){return t.getData().accountSetting})},t.prototype.updateProfileSettings=function(t,e){return this.xhr.put("/gdc/account/profile/"+t+"/settings",{body:e})},t.prototype.getAccountInfo=function(){var t=this;return this.xhr.get("/gdc/app/account/bootstrap").then(function(e){var r=e.getData();return t.getAccountInfoInBootstrap(r)})},t.prototype.getAccountInfoInBootstrap=function(t){var e=t.bootstrapResource,r=e.accountSetting,n=r.login,i=r.firstName,o=r.lastName,u=r.links.self,s=e.current.loginMD5,a=e.settings.organizationName;return{login:n,loginMD5:s,firstName:i,lastName:o,organizationName:a,profileUri:u}},t.prototype.getUserConfigs=function(t){return this.xhr.get("/gdc/account/profile/"+t+"/config").then(function(t){var e=t.getData(),r=e.settings.items;return r||[]})},t.prototype.getFeatureFlags=function(){return this.xhr.get("/gdc/app/account/bootstrap").then(function(t){return t.getData()}).then(function(t){return t.bootstrapResource.current.featureFlags})},t.prototype.initiateSamlSso=function(t){this.xhr.get("/gdc/account/samlrequest?"+o.default.stringify({relayState:t})).then(function(t){return t.getData()}).then(function(t){var e=t.samlRequests.items[0].samlRequest.loginUrl;window.location.assign(e)})},t}();e.UserModule=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(88),i=[{r:43,g:107,b:174},{r:105,g:170,b:81},{r:238,g:177,b:76},{r:213,g:60,b:56},{r:137,g:77,b:148},{r:115,g:115,b:115},{r:68,g:169,b:190},{r:150,g:189,b:95},{r:253,g:147,b:105},{r:225,g:93,b:134},{r:124,g:111,b:173},{r:165,g:165,b:165},{r:122,g:166,b:213},{r:130,g:208,b:141},{r:255,g:210,b:137},{r:241,g:132,b:128},{r:191,g:144,b:198},{r:191,g:191,b:191}],o=function(t){var e=t.content.state;return"ENABLED"===e||"DELETED"===e};e.parseSettingItemValue=function(t){if("true"===t)return!0;if("false"===t)return!1;var e=Number(t);return e.toString()===t?e:t};var u=function(){function t(t){this.xhr=t}return t.prototype.getCurrentProjectId=function(){return this.xhr.get("/gdc/app/account/bootstrap").then(function(t){return t.getData()}).then(this.getCurrentProjectIdInBootstrap)},t.prototype.getCurrentProjectIdInBootstrap=function(t){var e=t.bootstrapResource.current.project;return e?t.bootstrapResource.current.project.links.self.split("/").pop():null},t.prototype.getProjects=function(t){return n.getAllPagesByOffsetLimit(this.xhr,"/gdc/account/profile/"+t+"/projects","projects").then(function(t){return t.map(function(t){return t.project})})},t.prototype.getDatasets=function(t){return this.xhr.get("/gdc/md/"+t+"/query/datasets").then(function(t){return t.getData()}).then(n.getIn("query.entries"))},t.prototype.getColorPalette=function(t){return this.xhr.get("/gdc/projects/"+t+"/styleSettings").then(function(t){return t.getData()}).then(function(t){return t.styleSettings.chartPalette.map(function(t){return{r:t.fill.r,g:t.fill.g,b:t.fill.b}})},function(t){if(200===t.status)return i;throw new Error(t.statusText)})},t.prototype.getColorPaletteWithGuids=function(t){return this.xhr.get("/gdc/projects/"+t+"/styleSettings").then(function(t){return t.getData()}).then(function(t){return t&&t.styleSettings?t.styleSettings.chartPalette:void 0})},t.prototype.setColorPalette=function(t,e){return this.xhr.put("/gdc/projects/"+t+"/styleSettings",{body:{styleSettings:{chartPalette:e.map(function(t,e){return{fill:t,guid:"guid"+e}})}}})},t.prototype.getTimezone=function(t){var e="/gdc/app/account/bootstrap?projectId="+t;return this.xhr.get(e).then(function(t){return t.getData()}).then(function(t){return t.bootstrapResource.current.timezone})},t.prototype.setTimezone=function(t,e){var r="/gdc/md/"+t+"/service/timezone",n={service:{timezone:e}};return this.xhr.post(r,{body:n}).then(function(t){return t.getData()})},t.prototype.createProject=function(t,e,r){var i=this;void 0===r&&(r={});var u=r.summary,s=r.projectTemplate,a=r.driver,c=void 0===a?"Pg":a,f=r.environment,l=void 0===f?"TESTING":f,d=r.guidedNavigation,p=void 0===d?1:d;return this.xhr.post("/gdc/projects",{body:JSON.stringify({project:{content:{guidedNavigation:p,driver:c,authorizationToken:e,environment:l},meta:{title:t,summary:u,projectTemplate:s}}})}).then(function(t){return t.getData()}).then(function(t){return n.handlePolling(i.xhr.get.bind(i.xhr),t.uri,function(t){return o(t.project)},r)})},t.prototype.deleteProject=function(t){return this.xhr.del("/gdc/projects/"+t)},t.prototype.getFeatureFlags=function(t){return this.xhr.get("/gdc/app/projects/"+t+"/featureFlags").then(function(t){return t.getData()}).then(function(t){return t&&t.featureFlags?t.featureFlags:{}})},t.prototype.getConfig=function(t){return this.xhr.get("/gdc/app/projects/"+t+"/config").then(function(t){var e=t.getData();return e}).then(function(t){return t&&t.settings&&t.settings.items?t.settings.items:[]})},t.prototype.getProjectFeatureFlags=function(t,r){return this.getConfig(t).then(function(t){var n=r?t.filter(function(t){return t.settingItem.source===r}):t,i={};return n.forEach(function(t){i[t.settingItem.key]=e.parseSettingItemValue(t.settingItem.value)}),i})},t}();e.ProjectModule=u},function(t,e,r){"use strict";var n=r(96),i=r(99),o=r(98);t.exports={formats:o,parse:i,stringify:n}},function(t,e,r){"use strict";var n=r(97),i=r(98),o=Object.prototype.hasOwnProperty,u={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,a=Array.prototype.push,c=function(t,e){a.apply(t,s(e)?e:[e])},f=Date.prototype.toISOString,l=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:l,formatter:i.formatters[l],indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},p=function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t},h=function t(e,r,i,o,u,a,f,l,h,v,b,m,y){var g=e;if("function"==typeof f?g=f(r,g):g instanceof Date?g=v(g):"comma"===i&&s(g)&&(g=n.maybeMap(g,function(t){return t instanceof Date?v(t):t}).join(",")),null===g){if(o)return a&&!m?a(r,d.encoder,y,"key"):r;g=""}if(p(g)||n.isBuffer(g)){if(a){var _=m?r:a(r,d.encoder,y,"key");return[b(_)+"="+b(a(g,d.encoder,y,"value"))]}return[b(r)+"="+b(String(g))]}var x=[];if("undefined"==typeof g)return x;var A;if(s(f))A=f;else{var D=Object.keys(g);A=l?D.sort(l):D}for(var O=0;O<A.length;++O){var T=A[O],S=g[T];if(!u||null!==S){var E=s(g)?"function"==typeof i?i(r,T):r:r+(h?"."+T:"["+T+"]");c(x,t(S,E,i,o,u,a,f,l,h,v,b,m,y))}}return x},v=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if("undefined"!=typeof t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if("undefined"!=typeof t.format){if(!o.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=i.formatters[r],u=d.filter;return("function"==typeof t.filter||s(t.filter))&&(u=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:"undefined"==typeof t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:"undefined"==typeof t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:u,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}};t.exports=function(t,e){var r,n,i=t,o=v(e);"function"==typeof o.filter?(n=o.filter,i=n("",i)):s(o.filter)&&(n=o.filter,r=n);var a=[];if("object"!=typeof i||null===i)return"";var f;f=e&&e.arrayFormat in u?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var l=u[f];r||(r=Object.keys(i)),o.sort&&r.sort(o.sort);for(var d=0;d<r.length;++d){var p=r[d];o.skipNulls&&null===i[p]||c(a,h(i[p],p,l,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var b=a.join(o.delimiter),m=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(m+="iso-8859-1"===o.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),b.length>0?m+b:""}},function(t,e){"use strict";var r=Object.prototype.hasOwnProperty,n=Array.isArray,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o=function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(n(r)){for(var i=[],o=0;o<r.length;++o)"undefined"!=typeof r[o]&&i.push(r[o]);e.obj[e.prop]=i}}},u=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)"undefined"!=typeof t[n]&&(r[n]=t[n]);return r},s=function t(e,i,o){if(!i)return e;if("object"!=typeof i){if(n(e))e.push(i);else{if(!e||"object"!=typeof e)return[e,i];(o&&(o.plainObjects||o.allowPrototypes)||!r.call(Object.prototype,i))&&(e[i]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(i);var s=e;return n(e)&&!n(i)&&(s=u(e,o)),n(e)&&n(i)?(i.forEach(function(n,i){if(r.call(e,i)){var u=e[i];u&&"object"==typeof u&&n&&"object"==typeof n?e[i]=t(u,n,o):e.push(n)}else e[i]=n}),e):Object.keys(i).reduce(function(e,n){var u=i[n];return r.call(e,n)?e[n]=t(e[n],u,o):e[n]=u,e},s)},a=function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},c=function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},f=function(t,e,r){if(0===t.length)return t;var n=t;if("symbol"==typeof t?n=Symbol.prototype.toString.call(t):"string"!=typeof t&&(n=String(t)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var o="",u=0;u<n.length;++u){var s=n.charCodeAt(u);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=n.charAt(u):s<128?o+=i[s]:s<2048?o+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?o+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(u+=1,s=65536+((1023&s)<<10|1023&n.charCodeAt(u)),o+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return o},l=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],u=i.obj[i.prop],s=Object.keys(u),a=0;a<s.length;++a){var c=s[a],f=u[c];"object"==typeof f&&null!==f&&r.indexOf(f)===-1&&(e.push({obj:u,prop:c}),r.push(f))}return o(e),t},d=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},p=function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},h=function(t,e){return[].concat(t,e)},v=function(t,e){if(n(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(e(t[i]));return r}return e(t)};t.exports={arrayToObject:u,assign:a,combine:h,compact:l,decode:c,encode:f,isBuffer:p,isRegExp:d,maybeMap:v,merge:s}},function(t,e,r){"use strict";var n=String.prototype.replace,i=/%20/g,o=r(97),u={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=o.assign({default:u.RFC3986,formatters:{RFC1738:function(t){return n.call(t,i,"+")},RFC3986:function(t){return String(t)}}},u)},function(t,e,r){"use strict";var n=r(97),i=Object.prototype.hasOwnProperty,o=Array.isArray,u={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},a=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c="utf8=%26%2310003%3B",f="utf8=%E2%9C%93",l=function(t,e){var r,l={},d=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,p=e.parameterLimit===1/0?void 0:e.parameterLimit,h=d.split(e.delimiter,p),v=-1,b=e.charset;if(e.charsetSentinel)for(r=0;r<h.length;++r)0===h[r].indexOf("utf8=")&&(h[r]===f?b="utf-8":h[r]===c&&(b="iso-8859-1"),v=r,r=h.length);for(r=0;r<h.length;++r)if(r!==v){var m,y,g=h[r],_=g.indexOf("]="),x=_===-1?g.indexOf("="):_+1;x===-1?(m=e.decoder(g,u.decoder,b,"key"),y=e.strictNullHandling?null:""):(m=e.decoder(g.slice(0,x),u.decoder,b,"key"),y=n.maybeMap(a(g.slice(x+1),e),function(t){return e.decoder(t,u.decoder,b,"value")})),y&&e.interpretNumericEntities&&"iso-8859-1"===b&&(y=s(y)),g.indexOf("[]=")>-1&&(y=o(y)?[y]:y),i.call(l,m)?l[m]=n.combine(l[m],y):l[m]=y}return l},d=function(t,e,r,n){for(var i=n?e:a(e,r),o=t.length-1;o>=0;--o){var u,s=t[o];if("[]"===s&&r.parseArrays)u=[].concat(i);else{u=r.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,f=parseInt(c,10);r.parseArrays||""!==c?!isNaN(f)&&s!==c&&String(f)===c&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(u=[],u[f]=i):u[c]=i:u={0:i}}i=u}return i},p=function(t,e,r,n){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,u=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,a=r.depth>0&&u.exec(o),c=a?o.slice(0,a.index):o,f=[];if(c){if(!r.plainObjects&&i.call(Object.prototype,c)&&!r.allowPrototypes)return;f.push(c)}for(var l=0;r.depth>0&&null!==(a=s.exec(o))&&l<r.depth;){if(l+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(a[1])}return a&&f.push("["+o.slice(a.index)+"]"),d(f,e,r,n)}},h=function(t){if(!t)return u;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!=typeof t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e="undefined"==typeof t.charset?u.charset:t.charset;return{allowDots:"undefined"==typeof t.allowDots?u.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:u.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:u.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:u.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:u.comma,decoder:"function"==typeof t.decoder?t.decoder:u.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:u.delimiter,depth:"number"==typeof t.depth||t.depth===!1?+t.depth:u.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:u.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:u.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:u.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:u.strictNullHandling}};t.exports=function(t,e){var r=h(e);if(""===t||null===t||"undefined"==typeof t)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof t?l(t,r):t,o=r.plainObjects?Object.create(null):{},u=Object.keys(i),s=0;s<u.length;++s){var a=u[s],c=p(a,i[a],r,"string"==typeof t);o=n.merge(o,c,r)}return n.compact(o)}},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r(49)),u=i(r(89)),s=i(r(101)),a=i(r(104)),c=i(r(109)),f=r(88),l=r(48),d=r(116),p=r(136),h=function(){function t(t){this.xhr=t}return t.prototype.getObjects=function(t,e){var r=this,n=50,i="/gdc/md/"+t+"/objects/get",o=s.default(e,n),c=o.map(function(t){var e={get:{items:t}};return r.xhr.post(i,{body:e}).then(function(t){if(!t.response.ok)throw new l.ApiResponseError(t.response.statusText,t.response,t.responseBody);return t.getData()}).then(function(t){return u.default(t,["objects","items"]).map(function(t){return t.visualizationObject?{visualizationObject:d.convertReferencesToUris(t.visualizationObject)}:t.visualizationWidget?{visualizationWidget:d.convertReferencesToUris(t.visualizationWidget)}:t})})});return Promise.all(c).then(a.default)},t.prototype.getObjectsByQuery=function(t,e){var r=this,i=function(t,e){return void 0===e&&(e=[]),r.xhr.get(t).then(function(t){return t.getData()}).then(function(t){var r=t.objects;e.push.apply(e,r.items);var n=r.paging.next;return n?i(n,e):e})},o=e.deprecated?{deprecated:1}:{},u="/gdc/md/"+t+"/objects/query",s=c.default(n({limit:50},e,o),["category","mode","author","limit","deprecated"]);return i(u+f.queryString(s))},t.prototype.getObjectUsing=function(t,e,r){void 0===r&&(r={});var n=r.types,i=void 0===n?[]:n,o=r.nearest,u=void 0!==o&&o,s="/gdc/md/"+t+"/using2",a={inUse:{uri:e,types:i,nearest:u?1:0}};return this.xhr.post(s,{body:a}).then(function(t){if(!t.response.ok)throw new l.ApiResponseError(t.response.statusText,t.response,t.getData());return t.getData()}).then(function(t){return t.entries})},t.prototype.getObjectUsingMany=function(t,e,r){void 0===r&&(r={});var n=r.types,i=void 0===n?[]:n,o=r.nearest,u=void 0!==o&&o,s="/gdc/md/"+t+"/using2",a={inUseMany:{uris:e,types:i,nearest:u?1:0}};return this.xhr.post(s,{body:a}).then(function(t){if(!t.response.ok)throw new l.ApiResponseError(t.response.statusText,t.response,t.getData());return t.getData()}).then(function(t){return t.useMany})},t.prototype.getVisualizations=function(t){return this.xhr.get("/gdc/md/"+t+"/query/visualizationobjects").then(function(t){return t.response.ok?t.getData():t.response}).then(f.getIn("query.entries"))},t.prototype.getAttributes=function(t){return this.xhr.get("/gdc/md/"+t+"/query/attributes").then(function(t){return t.response.ok?t.getData():t.response}).then(f.getIn("query.entries"))},t.prototype.getDimensions=function(t){return this.xhr.get("/gdc/md/"+t+"/query/dimensions").then(function(t){return t.response.ok?t.getData():t.response}).then(f.getIn("query.entries"))},t.prototype.getFolders=function(t,e){var r=this,n=function(t,e){var n=e?"?type="+e:"";return r.xhr.get("/gdc/md/"+t+"/query/folders"+n).then(function(t){return t.getData()}).then(f.getIn("query.entries"))};switch(e){case"fact":case"metric":return n(t,e);case"attribute":return this.getDimensions(t);default:return Promise.all([n(t,"fact"),n(t,"metric"),this.getDimensions(t)]).then(function(t){var e=t[0],r=t[1],n=t[2];return{fact:e,metric:r,attribute:n}})}},t.prototype.getFacts=function(t){return this.xhr.get("/gdc/md/"+t+"/query/facts").then(function(t){return t.response.ok?t.getData():t.response}).then(f.getIn("query.entries"))},t.prototype.getMetrics=function(t){return this.xhr.get("/gdc/md/"+t+"/query/metrics").then(function(t){return t.response.ok?t.getData():t.response}).then(f.getIn("query.entries"))},t.prototype.getAvailableMetrics=function(t,e){return void 0===e&&(e=[]),this.xhr.post("/gdc/md/"+t+"/availablemetrics",{body:e}).then(function(t){return t.response.ok?t.getData():t.response}).then(function(t){return t.entries})},t.prototype.getAvailableAttributes=function(t,e){return void 0===e&&(e=[]),this.xhr.post("/gdc/md/"+t+"/drillcrosspaths",{body:e}).then(function(t){return t.response.ok?t.getData():t.response}).then(function(t){return t.drillcrosspath.links})},t.prototype.getAvailableFacts=function(t,e){return void 0===e&&(e=[]),this.xhr.post("/gdc/md/"+t+"/availablefacts",{body:e}).then(function(t){return t.response.ok?t.getData():t.response}).then(function(t){return t.entries})},t.prototype.getObjectDetails=function(t){return this.xhr.get(t).then(function(t){return t.getData()})},t.prototype.getFoldersWithItems=function(t,e){var r=this;return this.getFolders(t,e).then(function(n){function i(t,e){return t.map(function(t){return t[e]})}var o=function(t){return Promise.all(t.map(r.getObjectDetails)).then(function(t){return t.map(function(t){return t.metric})})},u=function(t){t.forEach(function(t){t.items.sort(function(t,e){return t.meta.title<e.meta.title?-1:t.meta.title>e.meta.title?1:0})}),t.sort(function(t,e){return t.title<e.title?-1:t.title>e.title?1:0})},s=i(n,"link"),a=i(n,"title");return Promise.all(s.map(r.getObjectDetails)).then(function(n){if("attribute"===e)return r.getAttributes(t).then(function(t){var e=[];n.forEach(function(t){t.dimension.content.attributes.forEach(function(t){e.push(t.meta.uri)})});var i=t.filter(function(t){return e.indexOf(t.link)===-1}).map(function(t){return t.link});return Promise.all(i.map(r.getObjectDetails)).then(function(t){var e=t.map(function(t){return t.attribute}),r=n.map(function(t){return{title:t.dimension.meta.title,items:t.dimension.content.attributes}});return r.push({title:"Unsorted",items:e}),u(r),r})});if("metric"===e){var s=n.map(function(t){return i(t.folder.content.entries,"link")});return r.getMetrics(t).then(function(t){var e=[];n.forEach(function(t){t.folder.content.entries.forEach(function(t){e.push(t.link)})});var r=t.filter(function(t){return e.indexOf(t.link)===-1}).map(function(t){return t.link});return s.push(r),Promise.all(s.map(function(t){return o(t)})).then(function(t){var e=t.map(function(t,e){return{title:a[e]||"Unsorted",items:t}});return u(e),e})})}return Promise.reject(null)})})},t.prototype.getObjectIdentifier=function(t){function e(t){if(t.attribute)return t.attribute.content.displayForms[0].meta.identifier;if(t.dimension)return t.dimension.content.attributes.content.displayForms[0].meta.identifier;if(t.metric)return t.metric.meta.identifier;throw Error("Unknown object!")}return o.default(t)?Promise.resolve(e(t)):this.getObjectDetails(t).then(function(t){return e(t)})},t.prototype.getObjectUri=function(t,e){return this.xhr.post("/gdc/md/"+t+"/identifiers",{body:{identifierToUri:[e]}}).then(function(r){var n=r.getData(),i=n.identifiers.find(function(t){return t.identifier===e});if(i)return i.uri;throw new l.ApiResponseError("Object with identifier "+e+" not found in project "+t,r.response,r.responseBody)})},t.prototype.getUrisFromIdentifiers=function(t,e){return this.xhr.post("/gdc/md/"+t+"/identifiers",{body:{identifierToUri:e}}).then(function(t){return t.getData()}).then(function(t){return t.identifiers})},t.prototype.getIdentifiersFromUris=function(t,e){return this.xhr.post("/gdc/md/"+t+"/identifiers",{body:{uriToIdentifier:e}}).then(function(t){return t.getData()}).then(function(t){return t.identifiers})},t.prototype.translateElementLabelsToUris=function(t,e,r,n){return void 0===n&&(n="EXACT"),this.xhr.post("/gdc/md/"+t+"/labels",{body:{elementLabelToUri:[{labelUri:e,mode:n,patterns:r}]}}).then(function(t){return t.response.ok?u.default(t.getData(),"elementLabelUri"):t.response})},t.prototype.getValidElements=function(t,e,r){var i=this;void 0===r&&(r={});var o=c.default(r,["limit","offset","order","filter","prompt"]),u=f.queryString(o),s=c.default(r,["uris","complement","includeTotalCountWithoutFilters","restrictiveDefinition"]),a=r.afm,l=function(){return i.xhr.post("/gdc/app/projects/"+t+"/executeAfm/debug",{body:{execution:{afm:p.convertAfm(a)}}}).then(function(t){return t.getData()}).then(function(t){return n({},s,{restrictiveDefinitionContent:t.reportDefinitionWithInlinedMetrics.content})})},d=a?l:function(){return Promise.resolve(s)};return d().then(function(r){return i.xhr.post(("/gdc/md/"+t+"/obj/"+e+"/validElements"+u).replace(/\?$/,""),{body:{validElementsRequest:r}}).then(function(t){return t.getData()})})},t.prototype.getVisualization=function(t){return this.getObjectDetails(t).then(function(t){var e=t.visualizationObject;return{visualizationObject:d.convertReferencesToUris(e)}})},t.prototype.saveVisualization=function(t,e){var r=d.convertUrisToReferences(e.visualizationObject);return this.createObject(t,{visualizationObject:r})},t.prototype.updateVisualization=function(t,e,r){var n=d.convertUrisToReferences(r.visualizationObject);return this.updateObject(t,e,{visualizationObject:n})},t.prototype.deleteVisualization=function(t){return this.deleteObject(t)},t.prototype.deleteObject=function(t){return this.xhr.del(t)},t.prototype.createObject=function(t,e){return this.xhr.post("/gdc/md/"+t+"/obj?createAndGet=true",{body:e}).then(function(t){return t.getData()})},t.prototype.updateObject=function(t,e,r){return this.xhr.put("/gdc/md/"+t+"/obj/"+e,{body:r}).then(function(t){return t.getData()})},t.prototype.ldmManage=function(t,e,r){var n=this;return void 0===r&&(r={}),this.xhr.post("/gdc/md/"+t+"/ldm/manage2",{body:{manage:{maql:e}}}).then(function(t){return t.getData()}).then(function(t){var e=t.entries[0].link;return f.handlePolling(n.xhr.get.bind(n.xhr),e,n.isTaskFinished,r)}).then(this.checkStatusForError)},t.prototype.etlPull=function(t,e,r){var n=this;return void 0===r&&(r={}),this.xhr.post("/gdc/md/"+t+"/etl/pull2",{body:{pullIntegration:e}}).then(function(t){return t.getData()}).then(function(t){var e=t.pull2Task.links.poll;return f.handlePolling(n.xhr.get.bind(n.xhr),e,n.isTaskFinished,r)}).then(this.checkStatusForError)},t.prototype.isTaskFinished=function(t){var e=t.wTaskStatus.status;return"OK"===e||"ERROR"===e},t.prototype.checkStatusForError=function(t){return"ERROR"===t.wTaskStatus.status?Promise.reject(t):t},t}();e.MetadataModule=h},function(t,e,r){function n(t,e,r){e=(r?o(t,e,r):void 0===e)?1:a(u(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var c=0,f=0,l=Array(s(n/e));c<n;)l[f++]=i(t,c,c+=e);return l}var i=r(102),o=r(69),u=r(103),s=Math.ceil,a=Math.max;t.exports=n},function(t,e){function r(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}t.exports=r},function(t,e){function r(t){return t}t.exports=r},function(t,e,r){function n(t){var e=null==t?0:t.length;return e?i(t,1):[]}var i=r(105);t.exports=n},function(t,e,r){function n(t,e,r,u,s){var a=-1,c=t.length;for(r||(r=o),s||(s=[]);++a<c;){var f=t[a];e>0&&r(f)?e>1?n(f,e-1,r,u,s):i(s,f):u||(s[s.length]=f)}return s}var i=r(106),o=r(107);t.exports=n},function(t,e){function r(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}t.exports=r},function(t,e,r){function n(t){return u(t)||o(t)||!!(s&&t&&t[s])}var i=r(108),o=r(79),u=r(44),s=i?i.isConcatSpreadable:void 0;t.exports=n},function(t,e,r){var n=r(27),i=n.Symbol;t.exports=i},function(t,e,r){var n=r(110),i=r(115),o=i(function(t,e){return null==t?{}:n(t,e)});t.exports=o},function(t,e,r){function n(t,e){return i(t,e,function(e,r){return o(t,r)})}var i=r(111),o=r(112);t.exports=n},function(t,e,r){function n(t,e,r){for(var n=-1,s=e.length,a={};++n<s;){var c=e[n],f=i(t,c);r(f,c)&&o(a,u(c,t),f)}return a}var i=r(90),o=r(54),u=r(55);t.exports=n},function(t,e,r){function n(t,e){return null!=t&&o(t,e,i)}var i=r(113),o=r(114);t.exports=n},function(t,e){function r(t,e){return null!=t&&e in Object(t)}t.exports=r},function(t,e,r){function n(t,e,r){e=i(e,t);for(var n=-1,f=e.length,l=!1;++n<f;){
var d=c(e[n]);if(!(l=null!=t&&r(t,d)))break;t=t[d]}return l||++n!=f?l:(f=null==t?0:t.length,!!f&&a(f)&&s(d,f)&&(u(t)||o(t)))}var i=r(55),o=r(79),u=r(44),s=r(61),a=r(82),c=r(62);t.exports=n},function(t,e,r){function n(t){return u(o(t,void 0,i),t+"")}var i=r(104),o=r(66),u=r(68);t.exports=n},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r(117)),u=i(r(119)),s=i(r(44)),a=i(r(41)),c=i(r(125)),f=i(r(126)),l=r(130),d=r(135),p=function(t,e){return e[t]},h=function(t,e){return Object.keys(e).find(function(r){return e[r]===t})},v=function(){return l.v4().replace(/-/g,"")},b=function(t,e){if(s.default(t))return t.map(function(t){return b(t,e)});if(a.default(t)){var r=t;return Object.keys(r).reduce(function(t,n){return t[n]=b(r[n],e),t},{})}return c.default(t)?e(t):t},m=function(t){return function(e,r){void 0===r&&(r=v);var i=e.content;if(!i)return e;var s=i.properties;if(!s)return e;var a=JSON.parse(s),c=i.references||{},l=t(a,c,r),d=l.convertedProperties,p=l.convertedReferences,h=o.default(p)?void 0:{references:p},b=n({},e,{content:n({},u.default(e.content,"references"),{properties:f.default(d)},h)});return b}},y=function(t){return function(e){return p(e,t)||e}};e.convertReferencesToUris=m(function(t,e){var r=b(t,y(e));return{convertedProperties:r,convertedReferences:e}});var g=function(t,e){var r={};return{convertedReferences:r,conversion:function(n){if(!d.isUri(n))return n;var i=h(n,t)||h(n,r)||e();return r[i]=n,i}}};e.convertUrisToReferences=m(function(t,e,r){var n=g(e,r),i=b(t,n.conversion);return{convertedProperties:i,convertedReferences:n.convertedReferences}})},function(t,e,r){function n(t){if(null==t)return!0;if(a(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||u(t)))return!t.length;var e=o(t);if(e==d||e==p)return!t.size;if(f(t))return!i(t).length;for(var r in t)if(v.call(t,r))return!1;return!0}var i=r(118),o=r(36),u=r(79),s=r(44),a=r(81),c=r(45),f=r(43),l=r(83),d="[object Map]",p="[object Set]",h=Object.prototype,v=h.hasOwnProperty;t.exports=n},function(t,e,r){var n=r(22),i=n(Object.keys,Object);t.exports=i},function(t,e,r){var n=r(120),i=r(5),o=r(121),u=r(55),s=r(20),a=r(124),c=r(115),f=r(35),l=1,d=2,p=4,h=c(function(t,e){var r={};if(null==t)return r;var c=!1;e=n(e,function(e){return e=u(e,t),c||(c=e.length>1),e}),s(t,f(t),r),c&&(r=i(r,l|d|p,a));for(var h=e.length;h--;)o(r,e[h]);return r});t.exports=h},function(t,e){function r(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}t.exports=r},function(t,e,r){function n(t,e){return e=i(e,t),t=u(t,e),null==t||delete t[s(o(e))]}var i=r(55),o=r(122),u=r(123),s=r(62);t.exports=n},function(t,e){function r(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=r},function(t,e,r){function n(t,e){return e.length<2?t:i(t,o(e,0,-1))}var i=r(90),o=r(102);t.exports=n},function(t,e,r){function n(t){return i(t)?void 0:t}var i=r(49);t.exports=n},function(t,e,r){function n(t){return"string"==typeof t||!o(t)&&u(t)&&i(t)==s}var i=r(50),o=r(44),u=r(51),s="[object String]";t.exports=n},function(t,e,r){var n="undefined"!=typeof JSON?JSON:r(127);t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r=e.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var u="boolean"==typeof e.cycles&&e.cycles,s=e.replacer||function(t,e){return e},a=e.cmp&&function(t){return function(e){return function(r,n){var i={key:r,value:e[r]},o={key:n,value:e[n]};return t(i,o)}}}(e.cmp),c=[];return function t(e,f,l,d){var p=r?"\n"+new Array(d+1).join(r):"",h=r?": ":":";if(l&&l.toJSON&&"function"==typeof l.toJSON&&(l=l.toJSON()),l=s.call(e,f,l),void 0!==l){if("object"!=typeof l||null===l)return n.stringify(l);if(i(l)){for(var v=[],b=0;b<l.length;b++){var m=t(l,b,l[b],d+1)||n.stringify(null);v.push(p+r+m)}return"["+v.join(",")+p+"]"}if(c.indexOf(l)!==-1){if(u)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(l);for(var y=o(l).sort(a&&a(l)),v=[],b=0;b<y.length;b++){var f=y[b],g=t(l,f,l[f],d+1);if(g){var _=n.stringify(f)+h+g;v.push(p+r+_)}}return c.splice(c.indexOf(l),1),"{"+v.join(",")+p+"}"}}({"":t},"",t,0)};var i=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},o=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in t)e.call(t,n)&&r.push(n);return r}},function(t,e,r){e.parse=r(128),e.stringify=r(129)},function(t,e){var r,n,i,o,u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(t){throw{name:"SyntaxError",message:t,at:r,text:i}},a=function(t){return t&&t!==n&&s("Expected '"+t+"' instead of '"+n+"'"),n=i.charAt(r),r+=1,n},c=function(){var t,e="";for("-"===n&&(e="-",a("-"));n>="0"&&n<="9";)e+=n,a();if("."===n)for(e+=".";a()&&n>="0"&&n<="9";)e+=n;if("e"===n||"E"===n)for(e+=n,a(),"-"!==n&&"+"!==n||(e+=n,a());n>="0"&&n<="9";)e+=n,a();return t=+e,isFinite(t)?t:void s("Bad number")},f=function(){var t,e,r,i="";if('"'===n)for(;a();){if('"'===n)return a(),i;if("\\"===n)if(a(),"u"===n){for(r=0,e=0;e<4&&(t=parseInt(a(),16),isFinite(t));e+=1)r=16*r+t;i+=String.fromCharCode(r)}else{if("string"!=typeof u[n])break;i+=u[n]}else i+=n}s("Bad string")},l=function(){for(;n&&n<=" ";)a()},d=function(){switch(n){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}s("Unexpected '"+n+"'")},p=function(){var t=[];if("["===n){if(a("["),l(),"]"===n)return a("]"),t;for(;n;){if(t.push(o()),l(),"]"===n)return a("]"),t;a(","),l()}}s("Bad array")},h=function(){var t,e={};if("{"===n){if(a("{"),l(),"}"===n)return a("}"),e;for(;n;){if(t=f(),l(),a(":"),Object.hasOwnProperty.call(e,t)&&s('Duplicate key "'+t+'"'),e[t]=o(),l(),"}"===n)return a("}"),e;a(","),l()}}s("Bad object")};o=function(){switch(l(),n){case"{":return h();case"[":return p();case'"':return f();case"-":return c();default:return n>="0"&&n<="9"?c():d()}},t.exports=function(t,e){var u;return i=t,r=0,n=" ",u=o(),l(),n&&s("Syntax error"),"function"==typeof e?function t(r,n){var i,o,u=r[n];if(u&&"object"==typeof u)for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o=t(u,i),void 0!==o?u[i]=o:delete u[i]);return e.call(r,n,u)}({"":u},""):u}},function(t,e){function r(t){return s.lastIndex=0,s.test(t)?'"'+t.replace(s,function(t){var e=a[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function n(t,e){var s,a,c,f,l,d=i,p=e[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof u&&(p=u.call(e,t,p)),typeof p){case"string":return r(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(i+=o,l=[],"[object Array]"===Object.prototype.toString.apply(p)){for(f=p.length,s=0;s<f;s+=1)l[s]=n(s,p)||"null";return c=0===l.length?"[]":i?"[\n"+i+l.join(",\n"+i)+"\n"+d+"]":"["+l.join(",")+"]",i=d,c}if(u&&"object"==typeof u)for(f=u.length,s=0;s<f;s+=1)a=u[s],"string"==typeof a&&(c=n(a,p),c&&l.push(r(a)+(i?": ":":")+c));else for(a in p)Object.prototype.hasOwnProperty.call(p,a)&&(c=n(a,p),c&&l.push(r(a)+(i?": ":":")+c));return c=0===l.length?"{}":i?"{\n"+i+l.join(",\n"+i)+"\n"+d+"}":"{"+l.join(",")+"}",i=d,c}}var i,o,u,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};t.exports=function(t,e,r){var s;if(i="",o="","number"==typeof r)for(s=0;s<r;s+=1)o+=" ";else"string"==typeof r&&(o=r);if(u=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return n("",{"":t})}},function(t,e,r){var n=r(131),i=r(134),o=i;o.v1=n,o.v4=i,t.exports=o},function(t,e,r){function n(t,e,r){var n=e&&r||0,f=e||[];t=t||{};var l=t.node||i,d=void 0!==t.clockseq?t.clockseq:o;if(null==l||null==d){var p=u();null==l&&(l=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:c+1,b=h-a+(v-c)/1e4;if(b<0&&void 0===t.clockseq&&(d=d+1&16383),(b<0||h>a)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,c=v,o=d,h+=122192928e5;var m=(1e4*(268435455&h)+v)%4294967296;f[n++]=m>>>24&255,f[n++]=m>>>16&255,f[n++]=m>>>8&255,f[n++]=255&m;var y=h/4294967296*1e4&268435455;f[n++]=y>>>8&255,f[n++]=255&y,f[n++]=y>>>24&15|16,f[n++]=y>>>16&255,f[n++]=d>>>8|128,f[n++]=255&d;for(var g=0;g<6;++g)f[n+g]=l[g];return e?e:s(f)}var i,o,u=r(132),s=r(133),a=0,c=0;t.exports=n},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){function r(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=r},function(t,e,r){function n(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var u=t.random||(t.rng||i)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,e)for(var s=0;s<16;++s)e[n+s]=u[s];return e||o(u)}var i=r(132),o=r(133);t.exports=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REG_URI_OBJ=/\/gdc\/md\/(\S+)\/obj\/\d+/,e.isUri=function(t){return e.REG_URI_OBJ.test(t)},e.areUris=function(t){return t.every(e.isUri)}},function(t,e,r){"use strict";function n(t,e){return e?{values:t}:{uris:t}}function i(t){var e=t.positiveAttributeFilter;return{positiveAttributeFilter:{displayForm:e.displayForm,in:n(e.in,e.textFilter)}}}function o(t){var e=t.negativeAttributeFilter;return{negativeAttributeFilter:{displayForm:e.displayForm,notIn:n(e.notIn,e.textFilter)}}}function u(t){return y.AFM.isPositiveAttributeFilter(t)?i(t):y.AFM.isNegativeAttributeFilter(t)?o(t):t}function s(t){return y.AFM.isPositiveAttributeFilter(t)?i(t):y.AFM.isNegativeAttributeFilter(t)?o(t):t}function a(t){return void 0!==t?t.map(u):t}function c(t){return void 0!==t?t.map(s):t}function f(t){if(y.AFM.isSimpleMeasureDefinition(t.definition)){var e=t.definition.measure,r=c(e.filters),n=r?{filters:r}:{};return v({},t,{definition:{measure:v({},e,n)}})}return t}function l(t){return void 0!==t?t.map(f):t}function d(t){if(void 0===t)return{};var e=v({},t,{measures:l(t.measures),filters:a(t.filters)});return m.default(e)}function p(t){return{execution:{afm:d(t.execution.afm),resultSpec:t.execution.resultSpec}}}function h(t){return JSON.stringify(p(t))}var v=this&&this.__assign||function(){return v=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},v.apply(this,arguments)},b=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var m=b(r(4)),y=r(137);e.convertFilter=u,e.convertAfm=d,e.convertExecutionToJson=h},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}e.__esModule=!0,n(r(138)),n(r(139)),n(r(140)),n(r(141)),n(r(142)),n(r(143)),n(r(144)),n(r(145)),n(r(146))},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(117);!function(t){function e(t){return!i(t)&&void 0!==t.uri}function r(t){return!i(t)&&void 0!==t.identifier}function n(t){return!i(t)&&void 0!==t.measure}function o(t){return!i(t)&&void 0!==t.arithmeticMeasure}function u(t){return!i(t)&&void 0!==t.popMeasure}function s(t){return!i(t)&&void 0!==t.previousPeriodMeasure}function a(t){return!i(t)&&void 0!==t.attributeSortItem}function c(t){return!i(t)&&void 0!==t.measureSortItem}function f(t){return!i(t)&&void 0!==t.measureLocatorItem}function l(t){return!i(t)&&(d(t)||p(t))}function d(t){return!i(t)&&void 0!==t.relativeDateFilter}function p(t){return!i(t)&&void 0!==t.absoluteDateFilter}function h(t){return!i(t)&&(v(t)||b(t))}function v(t){return!i(t)&&void 0!==t.positiveAttributeFilter}function b(t){return!i(t)&&void 0!==t.negativeAttributeFilter}function m(t){return!i(t)&&void 0!==t.measureValueFilter}function y(t){return!i(t)&&void 0!==t.value}t.isObjectUriQualifier=e,t.isObjIdentifierQualifier=r,t.isSimpleMeasureDefinition=n,t.isArithmeticMeasureDefinition=o,t.isPopMeasureDefinition=u,t.isPreviousPeriodMeasureDefinition=s,t.isAttributeSortItem=a,t.isMeasureSortItem=c,t.isMeasureLocatorItem=f,t.isDateFilter=l,t.isRelativeDateFilter=d,t.isAbsoluteDateFilter=p,t.isAttributeFilter=h,t.isPositiveAttributeFilter=v,t.isNegativeAttributeFilter=b,t.isMeasureValueFilter=m,t.isExpressionFilter=y}(n=e.AFM||(e.AFM={}))},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(117),o=r(44);!function(t){function e(t){return!i(t)&&void 0!==t.uri}function r(t){return!i(t)&&void 0!==t.identifier}function n(t){return!i(t)&&void 0!==t.measure}function u(t){return!i(t)&&void 0!==t.arithmeticMeasure}function s(t){return!i(t)&&void 0!==t.popMeasure}function a(t){return!i(t)&&void 0!==t.previousPeriodMeasure}function c(t){return!i(t)&&void 0!==t.attributeSortItem}function f(t){return!i(t)&&void 0!==t.measureSortItem}function l(t){return!i(t)&&void 0!==t.measureLocatorItem}function d(t){return!i(t)&&(p(t)||h(t))}function p(t){return!i(t)&&void 0!==t.relativeDateFilter}function h(t){return!i(t)&&void 0!==t.absoluteDateFilter}function v(t){return!i(t)&&(b(t)||m(t))}function b(t){return!i(t)&&void 0!==t.positiveAttributeFilter}function m(t){return!i(t)&&void 0!==t.negativeAttributeFilter}function y(t){return!i(t)&&void 0!==t.measureValueFilter}function g(t){return!i(t)&&void 0!==t.value}function _(t){return void 0!==t&&t instanceof Array}function x(t){return!i(t)&&void 0!==t.uris}function A(t){return!i(t)&&o(t.values)}t.isObjectUriQualifier=e,t.isObjIdentifierQualifier=r,t.isSimpleMeasureDefinition=n,t.isArithmeticMeasureDefinition=u,t.isPopMeasureDefinition=s,t.isPreviousPeriodMeasureDefinition=a,t.isAttributeSortItem=c,t.isMeasureSortItem=f,t.isMeasureLocatorItem=l,t.isDateFilter=d,t.isRelativeDateFilter=p,t.isAbsoluteDateFilter=h,t.isAttributeFilter=v,t.isPositiveAttributeFilter=b,t.isNegativeAttributeFilter=m,t.isMeasureValueFilter=y,t.isExpressionFilter=g,t.isAttributeElementsArray=_,t.isAttributeElementsByRef=x,t.isAttributeElementsByValue=A}(n=e.ExecuteAFM||(e.ExecuteAFM={}))},function(t,e){"use strict";e.__esModule=!0;var r;!function(t){function e(t){return void 0!==t.attributeHeaderItem}function r(t){return void 0!==t.measureHeaderItem}function n(t){return void 0!==t.totalHeaderItem}function i(t){return void 0!==t.attributeHeader}function o(t){return void 0!==t.measureGroupHeader}t.isAttributeHeaderItem=e,t.isMeasureHeaderItem=r,t.isTotalHeaderItem=n,t.isAttributeHeader=i,t.isMeasureGroupHeader=o}(r=e.Execution||(e.Execution={}))},function(t,e){"use strict";e.__esModule=!0;var r;!function(t){t.isAllTimeDateFilter=function(t){return!!t&&"allTime"===t.type},t.isAbsoluteDateFilterForm=function(t){return!!t&&"absoluteForm"===t.type},t.isAbsoluteDateFilterPreset=function(t){return!!t&&"absolutePreset"===t.type},t.isAbsoluteDateFilterOption=function(e){return t.isAbsoluteDateFilterForm(e)||t.isAbsoluteDateFilterPreset(e)},t.isRelativeDateFilterForm=function(t){return!!t&&"relativeForm"===t.type},t.isRelativeDateFilterPreset=function(t){return!!t&&"relativePreset"===t.type},t.isRelativeDateFilterOption=function(e){return t.isRelativeDateFilterForm(e)||t.isRelativeDateFilterPreset(e)}}(r=e.ExtendedDateFilters||(e.ExtendedDateFilters={}))},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(138),o=r(143);!function(t){function e(t){return o.VisualizationObject.isMeasure(t)}function r(t){return o.VisualizationObject.isMeasureDefinition(t)}function n(t){return o.VisualizationObject.isArithmeticMeasureDefinition(t)}function u(t){return o.VisualizationObject.isPopMeasureDefinition(t)}function s(t){return o.VisualizationObject.isPreviousPeriodMeasureDefinition(t)}function a(t){return o.VisualizationObject.isAttribute(t)}function c(t){return i.AFM.isPositiveAttributeFilter(t)}function f(t){return i.AFM.isNegativeAttributeFilter(t)}function l(t){return o.VisualizationObject.isAbsoluteDateFilter(t)}function d(t){return o.VisualizationObject.isRelativeDateFilter(t)}function p(t){return o.VisualizationObject.isMeasureValueFilter(t)}function h(t){return i.AFM.isAttributeSortItem(t)||i.AFM.isMeasureSortItem(t)}t.isMeasure=e,t.isMeasureDefinition=r,t.isArithmeticMeasureDefinition=n,t.isPopMeasureDefinition=u,t.isPreviousPeriodMeasureDefinition=s,t.isAttribute=a,t.isPositiveAttributeFilter=c,t.isNegativeAttributeFilter=f,t.isAbsoluteDateFilter=l,t.isRelativeDateFilter=d,t.isMeasureValueFilter=p,t.isSort=h}(n=e.VisualizationInput||(e.VisualizationInput={}))},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(117);!function(t){function e(t){return!i(t)&&void 0!==t.measure}function r(t){return!i(t)&&void 0!==t.visualizationAttribute}function n(t){return!i(t)&&void 0!==t.measureDefinition}function o(t){return!i(t)&&void 0!==t.arithmeticMeasure}function u(t){return!i(t)&&void 0!==t.popMeasureDefinition}function s(t){return!i(t)&&void 0!==t.previousPeriodMeasure}function a(t){return!i(t)&&(void 0!==t.positiveAttributeFilter||void 0!==t.negativeAttributeFilter)}function c(t){return!i(t)&&(void 0!==t.absoluteDateFilter||void 0!==t.relativeDateFilter)}function f(t){return!i(t)&&void 0!==t.positiveAttributeFilter}function l(t){return!i(t)&&void 0!==t.measureValueFilter}function d(t){return!i(t)&&void 0!==t.absoluteDateFilter}function p(t){return!i(t)&&void 0!==t.relativeDateFilter}function h(t){return!i(t)&&void 0!==t.visualizationAttribute}function v(t){return!i(t)&&void 0!==t.localIdentifier}function b(t){return!i(t)&&void 0!==t.comparison}function m(t){return!i(t)&&void 0!==t.range}t.isMeasure=e,t.isVisualizationAttribute=r,t.isMeasureDefinition=n,t.isArithmeticMeasureDefinition=o,t.isPopMeasureDefinition=u,t.isPreviousPeriodMeasureDefinition=s,t.isAttributeFilter=a,t.isDateFilter=c,t.isPositiveAttributeFilter=f,t.isMeasureValueFilter=l,t.isAbsoluteDateFilter=d,t.isRelativeDateFilter=p,t.isAttribute=h,t.isLocalIdentifierQualifier=v,t.isComparisonCondition=b,t.isRangeCondition=m}(n=e.VisualizationObject||(e.VisualizationObject={}))},function(t,e,r){"use strict";function n(t){return i(t)===s.AppCommandFailed}function i(t){var e=(t||{}).gdc,r=(void 0===e?{}:e).event,n=(void 0===r?{}:r).name,i=void 0===n?"":n;return i}e.__esModule=!0;var o,u=r(138);!function(t){t.ANALYTICAL_DESIGNER="analyticalDesigner",t.KPI_DASHBOARD="dashboard"}(o=e.GdcProductName||(e.GdcProductName={}));var s;!function(t){t.AppCommandFailed="appCommandFailed"}(s=e.GdcEventType||(e.GdcEventType={}));var a;!function(t){t.InvalidCommand="error:invalidCommand",t.InvalidArgument="error:invalidArgument",t.InvalidState="error:invalidState",t.RuntimeError="error:runtime"}(a=e.GdcErrorType||(e.GdcErrorType={})),e.isCommandFailedData=n,e.getEventType=i;var c;!function(t){t.isDateFilter=u.AFM.isDateFilter,t.isRelativeDateFilter=u.AFM.isRelativeDateFilter,t.isAbsoluteDateFilter=u.AFM.isAbsoluteDateFilter,t.isAttributeFilter=u.AFM.isAttributeFilter,t.isPositiveAttributeFilter=u.AFM.isPositiveAttributeFilter,t.isNegativeAttributeFilter=u.AFM.isNegativeAttributeFilter,t.isObjIdentifierQualifier=u.AFM.isObjIdentifierQualifier,t.isObjectUriQualifier=u.AFM.isObjectUriQualifier}(c=e.EmbeddedGdc||(e.EmbeddedGdc={}))},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(144);!function(t){function e(t){return i.isCommandFailedData(t)}function r(t){return i.getEventType(t)===_.DrillableItems}function n(t){return i.getEventType(t)===_.OpenInsight}function o(t){return i.getEventType(t)===_.Clear}function u(t){return i.getEventType(t)===_.Save}function s(t){return i.getEventType(t)===_.SaveAs}function a(t){return i.getEventType(t)===_.Export}function c(t){return i.getEventType(t)===_.Undo}function f(t){return i.getEventType(t)===_.Redo}function l(t){return i.getEventType(t)===_.SetFilterContext}function d(t){return i.getEventType(t)===_.RemoveFilterContext}function p(t){return i.getEventType(t)===x.NewInsightInitialized}function h(t){return i.getEventType(t)===x.InsightOpened}function v(t){return i.getEventType(t)===x.ClearFinished}function b(t){return i.getEventType(t)===x.InsightSaved}function m(t){return i.getEventType(t)===x.ExportFinished}function y(t){return i.getEventType(t)===x.UndoFinished}function g(t){return i.getEventType(t)===x.RedoFinished}var _;!function(t){t.DrillableItems="drillableItems",t.OpenInsight="openInsight",t.Save="saveInsight",t.SaveAs="saveAsInsight",t.Export="exportInsight",t.Clear="clear",t.Undo="undo",t.Redo="redo",t.SetFilterContext="setFilterContext",t.RemoveFilterContext="removeFilterContext"}(_=t.GdcAdCommandType||(t.GdcAdCommandType={}));var x;!function(t){t.ListeningForDrillableItems="listeningForDrillableItems",t.NewInsightInitialized="newInsightInitialized",t.InsightOpened="insightOpened",t.ClearFinished="clearFinished",t.InsightSaved="visualizationSaved",t.UndoFinished="undoFinished",t.RedoFinished="redoFinished",t.ExportFinished="exportInsightFinished",t.Drill="drill",t.FilterContextChanged="filterContextChanged",t.SetFilterContextFinished="setFilterContextFinished",t.RemoveFilterContextFinished="removeFilterContextFinished"}(x=t.GdcAdEventType||(t.GdcAdEventType={})),t.isAdCommandFailedData=e,t.isDrillableItemsCommandData=r,t.isOpenInsightCommandData=n,t.isClearCommandData=o,t.isSaveInsightCommandData=u,t.isSaveAsInsightCommandData=s,t.isExportInsightCommandData=a,t.isUndoCommandData=c,t.isRedoCommandData=f,t.isSetFilterContextCommandData=l,t.isRemoveFilterContextCommandData=d,t.isNewInsightInitializedData=p,t.isInsightOpenedData=h,t.isClearFinishedData=v,t.isInsightSavedData=b,t.isExportFinishedData=m,t.isUndoFinishedData=y,t.isRedoFinishedData=g}(n=e.EmbeddedAnalyticalDesigner||(e.EmbeddedAnalyticalDesigner={}))},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(144);!function(t){function e(t){return i.getEventType(t)===h.Save}function r(t){return i.getEventType(t)===h.CancelEdit}function n(t){return i.getEventType(t)===h.SwitchToEdit}function o(t){return i.getEventType(t)===h.DrillableItems}function u(t){return i.getEventType(t)===h.SetSize}function s(t){return i.getEventType(t)===h.SetFilterContext}function a(t){return i.getEventType(t)===h.RemoveFilterContext}function c(t){return t.identifier}function f(t){return t.uri}function l(t){return i.getEventType(t)===h.AddWidget}function d(t){return i.getEventType(t)===h.AddFilter}function p(t){return i.getEventType(t)===h.ExportToPdf}var h;!function(t){t.Save="saveDashboard",t.CancelEdit="cancelEdit",t.Delete="deleteDashboard",t.SwitchToEdit="switchToEdit",t.DrillableItems="drillableItems",t.SetSize="setSize",t.AddWidget="addWidget",t.AddFilter="addFilter",t.ExportToPdf="exportToPdf",t.SetFilterContext="setFilterContext",t.RemoveFilterContext="removeFilterContext"}(h=t.GdcKdCommandType||(t.GdcKdCommandType={}));var v;!function(t){t.ListeningForDrillableItems="listeningForDrillableItems",t.LoadingStarted="loadingStarted",t.NoPermissions="noPermissions",t.Resized="resized",t.DashboardCreated="dashboardCreated",t.DashboardLoaded="loaded",t.DashboardUpdated="dashboardUpdated",t.DashboardSaved="dashboardSaved",t.DashboardDeleted="dashboardDeleted",t.DashboardCreationCanceled="dashboardCreationCanceled",t.SwitchedToEdit="switchedToEdit",t.SwitchedToView="switchedToView",t.Platform="platform",t.WidgetAdded="widgetAdded",t.FilterAdded="filterAdded",t.ExportedToPdf="exportedToPdf",t.Drill="drill",t.FilterContextChanged="filterContextChanged",t.SetFilterContextFinished="setFilterContextFinished",t.RemoveFilterContextFinished="removeFilterContextFinished",t.DrillToUrlStarted="drillToUrlStarted",t.DrillToUrlResolved="drillToUrlResolved"}(v=t.GdcKdEventType||(t.GdcKdEventType={})),t.isSaveDashboardCommandData=e,t.isCancelEditCommandData=r,t.isSwitchToEditCommandData=n,t.isDrillableItemsCommandData=o,t.isSetSizeCommandData=u,t.isSetFilterContextCommandData=s,t.isRemoveFilterContextCommandData=a,t.isIdentifierInsight=c,t.isUriInsight=f,t.isAddWidgetCommandData=l,t.isAddFilterCommandData=d,t.isExportToPdfCommandData=p}(n=e.EmbeddedKpiDashboard||(e.EmbeddedKpiDashboard={}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(148),i=r(182),o=r(184),u=function(){function t(t,e){this.executeAfmModule=new o.ExecuteAfmModule(t),this.executeAfm=this.executeAfmModule.executeAfm.bind(this.executeAfmModule),this.getExecutionResponse=this.executeAfmModule.getExecutionResponse.bind(this.executeAfmModule),this._executeVisualization=this.executeAfmModule._executeVisualization.bind(this.executeAfmModule),this._getVisExecutionResponse=this.executeAfmModule._getVisExecutionResponse.bind(this.executeAfmModule),this.getPartialExecutionResult=this.executeAfmModule.getPartialExecutionResult.bind(this.executeAfmModule),this.getExecutionResult=this.executeAfmModule.getExecutionResult.bind(this.executeAfmModule),this.xhr=t,this.md=e}return t.prototype.getData=function(t,e,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),this.getExperimentalExecutionsModule().getData(t,e,r,n)},t.prototype.mdToExecutionDefinitionsAndColumns=function(t,e,r){return void 0===r&&(r={}),this.getExperimentalExecutionsModule().mdToExecutionDefinitionsAndColumns(t,e,r)},t.prototype.getExperimentalExecutionsModule=function(){var t=new i.AttributesMapLoaderModule(this.md);return new n.ExperimentalExecutionsModule(this.xhr,t.loadAttributesMap.bind(t))},t}();e.ExecutionModule=u},function(t,e,r){(function(t){"use strict";function n(t,e){return(t.element===e.id||t.element===e.uri)&&void 0===e.measureIndex}function i(t,e){return t&&t.forEach(function(t){var r=W.default(e,tt.default(n,t));r&&(r.measureIndex=t.measureIndex,r.isPoP=t.isPoP)}),e}function o(t,e){var r=ct-t.length;return e&&e.length>r?")"===e[e.length-1]?e.substring(0,r-2)+")"+t:e.substring(0,r-1)+""+t:""+e+t}function u(t){return $.default(t,["definition","popMeasureDefinition"],{})}function s(t){return $.default(ut.getDefinition(t),"aggregation","").toLowerCase()}function a(t){return $.default(t,"positiveAttributeFilter")?X.default($.default(t,["positiveAttributeFilter","in"])):$.default(t,"negativeAttributeFilter")?X.default($.default(t,["negativeAttributeFilter","notIn"])):$.default(t,"absoluteDateFilter")?void 0===$.default(t,["absoluteDateFilter","from"])&&void 0===$.default(t,["absoluteDateFilter","to"]):void 0===$.default(t,["relativeDateFilter","from"])&&void 0===$.default(t,["relativeDateFilter","to"])}function c(t){return Y.default(Q.default(ut.getMeasureFilters(t),function(t){return a(t)}))}function f(t){var e=s(t);return""!==e||!c(t)}function l(t,e){return $.default($.default(e,[t],{}),["attribute","content","type"])}function d(t,e){return $.default($.default(e,[t],{}),["attribute","meta","uri"])}function p(t){return void 0!==$.default(t,"negativeAttributeFilter")}function h(t){var e=p(t),r=e?["negativeAttributeFilter","notIn"]:["positiveAttributeFilter","in"];return $.default(t,r,[])}function v(t,e){var r=$.default(t,"negativeAttributeFilter",!1),n=r?"negativeAttributeFilter":"positiveAttributeFilter",i=d($.default(t,[n,"displayForm","uri"]),e),o=h(t);if(X.default(o))return null;var u=Q.default(o,function(t){return"["+t+"]"}),s=r?"NOT ":"";return"["+i+"] "+s+"IN ("+u.join(",")+")"}function b(){return""}function m(t,e){return ut.isAttributeMeasureFilter(e)?v(e,t):b()}function y(t,e){var r=s(t).toUpperCase(),n=$.default(ut.getDefinition(t),"item.uri"),i=H.default(Q.default(ut.getMeasureFilters(t),tt.default(m,e)),function(t){return!!t});return"SELECT "+(r?r+"(["+n+"])":"["+n+"]")+(st(i)?" WHERE "+i.join(" AND "):"")}function g(t,e,r){var n="SELECT ["+$.default(ut.getDefinition(r),"item.uri")+"]";f(r)&&(n=y(rt.default(V.default(r),["definition","measureDefinition","filters"],[]),e));var i=d($.default(t,"displayForm.uri"),e),o=H.default(Q.default(ut.getMeasureFilters(r),tt.default(m,e)),function(t){return!!t}),u=st(o)?" WHERE "+o.join(" AND "):"";return"SELECT ("+n+u+") / ("+n+" BY ALL ["+i+"]"+u+")"}function _(t,e){return"SELECT "+e+" FOR PREVIOUS (["+t+"])"}function x(t,e,r){return G.default(r+"#"+t+"#"+e)}function A(t){var e=s(t);return""===e?"metric":"count"===e?"attribute":"fact"}function D(t,e,r,n,i){var o=$.default(ut.getDefinition(t),"item.uri","").split("/"),u=o[3],s=o[5],a=u+"_"+s,f=n(r(t,i)),l=X.default(ut.getMeasureFilters(t)),d=A(t),p=l||c(t)?"":"_filtered";return d+"_"+a+".generated."+f+p+"_"+e}function O(t,e){return void 0===e&&(e={}),void 0!==l($.default(t,["displayForm","uri"]),e)}function T(t,e){var r=$.default(e,["properties","sortItems"],[]),n=r.find(function(e){var r=$.default(e,["measureSortItem"]);if(r){var n=$.default(r,["locators",0,"measureLocatorItem","measureIdentifier"]);return n===$.default(t,"localIdentifier")}return!1});return n?$.default(n,["measureSortItem","direction"],null):null}function S(t,e){var r=$.default(e,["properties","sortItems"],[]),n=r.find(function(e){var r=$.default(e,["attributeSortItem"]);if(r){var n=$.default(r,["attributeIdentifier"]);return n===$.default(t,"localIdentifier")}return!1});return n?$.default(n,["attributeSortItem","direction"],null):null}function E(t,e,r,n){var i=t.format,o=T(t,e),u=ft(t.title),a=tt.default(x,u,i),c=s(t),f=D(t,c.length?c:"base",y,a,n),l={metricDefinition:{identifier:f,expression:y(t,n),title:u,format:i}};return{element:f,definition:l,sort:o,meta:{measureIndex:r}}}function j(t,e,r,n){var i=J.default(ut.getAttributes(e)),o=tt.default(g,i,n),u=ft($.default(t,"title")),s=tt.default(x,u,lt),a=D(t,"percent",o,s,n);return{element:a,definition:{metricDefinition:{identifier:a,expression:o(t),title:u,format:lt}},sort:T(t,e),meta:{measureIndex:r}}}function P(t,e){return ut.getMeasures(e).find(function(e){return $.default(e,"localIdentifier")===$.default(u(t),["measureIdentifier"])})}function w(t,e,r,n){var i=ft($.default(t,"title")),o=$.default(t,"format"),u=tt.default(x,i,o),s=$.default(t,"definition.popMeasureDefinition.popAttribute.uri"),a=P(t,e),c="["+$.default(ut.getDefinition(a),["item","uri"])+"]",l=_(s,c);if(f(a)){var d=E(a,e,r,n),p="("+$.default(d,["definition","metricDefinition","expression"])+")";l=_(s,p)}var h=D(a,"pop",function(){return l},u,n);return{element:h,definition:{metricDefinition:{identifier:h,expression:l,title:i,format:o}},sort:T(t,e),meta:{measureIndex:r,isPoP:!0}}}function M(t,e,r,n){var i=$.default(t,["definition","popMeasureDefinition","popAttribute","uri"]),o=P(t,e),u=j(o,e,r,n),s=ft($.default(t,"title")),a=lt,c=tt.default(x,s,a),f="("+$.default(u,["definition","metricDefinition","expression"])+")",l=_(i,f),d=D(o,"pop",function(){return l},c,n);return{element:d,definition:{metricDefinition:{identifier:d,expression:l,title:s,format:a}},sort:T(),meta:{measureIndex:r,isPoP:!0}}}function C(t,e,r){var n=d($.default(r,["displayForm","uri"]),t);return{element:n,sort:S(r,e)}}function R(t){var e=t.definition;return void 0!==$.default(e,"popMeasureDefinition")}function I(t){var e=t.definition;return $.default(e,["measureDefinition","computeRatio"])}function F(t,e){if(R(t)){var r=P(t,e);return I(r)}return!1}function N(t){var e=t.definition;return void 0===$.default(e,["measureDefinition","aggregation"])}function U(t,e){var r=pt.match(t,e);
return B.default(r,"Unknown factory for: "+t),r}function k(t,e,r){var n=ut.getMeasures(t),i=ut.getAttributes(t),o=et.default(Q.default(n,function(e,n){return U(e,t)(e,t,n,r)}));e.removeDateItems&&(i=H.default(i,function(t){return!O(t,r)})),i=Q.default(i,tt.default(C,r,t));var u=q.default(Q.default(i.concat(o),"element"));return{columns:u,definitions:it.sortDefinitions(q.default(Q.default(o,"definition")))}}var z=this&&this.__assign||function(){return z=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},z.apply(this,arguments)},L=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var G=L(r(150)),B=L(r(154)),V=L(r(4)),q=L(r(155)),H=L(r(156)),J=L(r(157)),W=L(r(159)),Q=L(r(164)),K=L(r(70)),Y=L(r(165)),$=L(r(89)),X=L(r(117)),Z=L(r(166)),tt=L(r(167)),et=L(r(104)),rt=L(r(53)),nt=r(172),it=r(173),ot=r(182),ut=r(183),st=Z.default(X.default),at={extendedTabularDataResult:{values:[],warnings:[]}},ct=1e3,ft=tt.default(o,""),lt="#,##0.00%",dt=function(t,e,r){return{element:$.default(t,["definition","measureDefinition","item","uri"]),sort:T(t,e),meta:{measureIndex:r}}},pt=new nt.Rules;pt.addRule([F],M),pt.addRule([R],w),pt.addRule([I],j),pt.addRule([f],E),pt.addRule([N],dt);var ht=function(){function e(t,e){this.xhr=t,this.loadAttributesMap=e}return e.prototype.getData=function(e,r,n,o){var u=this;void 0===n&&(n={}),void 0===o&&(o={}),"test"!==t.env.NODE_ENV&&console.warn("ExperimentalExecutionsModule is deprecated and is no longer being maintained. Please migrate to the ExecuteAfmModule.");var s={isLoaded:!1},a={execution:{columns:r}};return["where","orderBy","definitions"].forEach(function(t){n[t]&&(a.execution[t]=n[t])}),this.xhr.post("/gdc/internal/projects/"+e+"/experimental/executions",z({},o,{body:JSON.stringify(a)})).then(function(t){return t.getData()}).then(function(t){return s.headers=i($.default(n,"metricMappings"),$.default(t,["executionResult","headers"],[])),u.loadExtendedDataResults(t.executionResult.extendedTabularDataResult,o)}).then(function(t){var e=t.result,r=t.status;return z({},s,{rawData:$.default(e,"extendedTabularDataResult.values",[]),warnings:$.default(e,"extendedTabularDataResult.warnings",[]),isLoaded:!0,isEmpty:204===r})})},e.prototype.mdToExecutionDefinitionsAndColumns=function(t,e,r){void 0===r&&(r={});var n=ut.getAttributesDisplayForms(e),i=this.getAttributesMap(r,n,t);return i.then(function(t){return k(e,r,t)})},e.prototype.getAttributesMap=function(t,e,r){var n=$.default(t,"attributesMap",{}),i=ot.getMissingUrisInAttributesMap(e,n);return this.loadAttributesMap(r,i).then(function(t){return z({},n,t)})},e.prototype.loadExtendedDataResults=function(t,e,r){var n=this;return void 0===r&&(r=at),new Promise(function(i,o){n.xhr.ajax(t,e).then(function(t){var e=t.response;return 204===e.status?{status:e.status,result:""}:{status:e.status,result:t.getData()}}).then(function(t){var o=t.status,u=t.result,s=$.default(r,"extendedTabularDataResult.values",[]).concat($.default(u,"extendedTabularDataResult.values",[])),a=$.default(r,"extendedTabularDataResult.warnings",[]).concat($.default(u,"extendedTabularDataResult.warnings",[])),c=K.default({},r,{extendedTabularDataResult:{values:s,warnings:a}}),f=$.default(u,"extendedTabularDataResult.paging.next");i(f?n.loadExtendedDataResults(f,e,c):{status:o,result:c})},o)})},e}();e.ExperimentalExecutionsModule=ht}).call(e,r(149))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function u(){v&&p&&(v=!1,p.length?h=p.concat(h):b=-1,h.length&&s())}function s(){if(!v){var t=i(u);v=!0;for(var e=h.length;e;){for(p=h,h=[];++b<e;)p&&p[b].run();b=-1,e=h.length}p=null,v=!1,o(t)}}function a(t,e){this.fun=t,this.array=e}function c(){}var f,l,d=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var p,h=[],v=!1,b=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new a(t,e)),1!==h.length||v||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,r){!function(){var e=r(151),n=r(152).utf8,i=r(153),o=r(152).bin,u=function(t,r){t.constructor==String?t=r&&"binary"===r.encoding?o.stringToBytes(t):n.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var s=e.bytesToWords(t),a=8*t.length,c=1732584193,f=-271733879,l=-1732584194,d=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[a>>>5]|=128<<a%32,s[(a+64>>>9<<4)+14]=a;for(var h=u._ff,v=u._gg,b=u._hh,m=u._ii,p=0;p<s.length;p+=16){var y=c,g=f,_=l,x=d;c=h(c,f,l,d,s[p+0],7,-680876936),d=h(d,c,f,l,s[p+1],12,-389564586),l=h(l,d,c,f,s[p+2],17,606105819),f=h(f,l,d,c,s[p+3],22,-1044525330),c=h(c,f,l,d,s[p+4],7,-176418897),d=h(d,c,f,l,s[p+5],12,1200080426),l=h(l,d,c,f,s[p+6],17,-1473231341),f=h(f,l,d,c,s[p+7],22,-45705983),c=h(c,f,l,d,s[p+8],7,1770035416),d=h(d,c,f,l,s[p+9],12,-1958414417),l=h(l,d,c,f,s[p+10],17,-42063),f=h(f,l,d,c,s[p+11],22,-1990404162),c=h(c,f,l,d,s[p+12],7,1804603682),d=h(d,c,f,l,s[p+13],12,-40341101),l=h(l,d,c,f,s[p+14],17,-1502002290),f=h(f,l,d,c,s[p+15],22,1236535329),c=v(c,f,l,d,s[p+1],5,-165796510),d=v(d,c,f,l,s[p+6],9,-1069501632),l=v(l,d,c,f,s[p+11],14,643717713),f=v(f,l,d,c,s[p+0],20,-373897302),c=v(c,f,l,d,s[p+5],5,-701558691),d=v(d,c,f,l,s[p+10],9,38016083),l=v(l,d,c,f,s[p+15],14,-660478335),f=v(f,l,d,c,s[p+4],20,-405537848),c=v(c,f,l,d,s[p+9],5,568446438),d=v(d,c,f,l,s[p+14],9,-1019803690),l=v(l,d,c,f,s[p+3],14,-187363961),f=v(f,l,d,c,s[p+8],20,1163531501),c=v(c,f,l,d,s[p+13],5,-1444681467),d=v(d,c,f,l,s[p+2],9,-51403784),l=v(l,d,c,f,s[p+7],14,1735328473),f=v(f,l,d,c,s[p+12],20,-1926607734),c=b(c,f,l,d,s[p+5],4,-378558),d=b(d,c,f,l,s[p+8],11,-2022574463),l=b(l,d,c,f,s[p+11],16,1839030562),f=b(f,l,d,c,s[p+14],23,-35309556),c=b(c,f,l,d,s[p+1],4,-1530992060),d=b(d,c,f,l,s[p+4],11,1272893353),l=b(l,d,c,f,s[p+7],16,-155497632),f=b(f,l,d,c,s[p+10],23,-1094730640),c=b(c,f,l,d,s[p+13],4,681279174),d=b(d,c,f,l,s[p+0],11,-358537222),l=b(l,d,c,f,s[p+3],16,-722521979),f=b(f,l,d,c,s[p+6],23,76029189),c=b(c,f,l,d,s[p+9],4,-640364487),d=b(d,c,f,l,s[p+12],11,-421815835),l=b(l,d,c,f,s[p+15],16,530742520),f=b(f,l,d,c,s[p+2],23,-995338651),c=m(c,f,l,d,s[p+0],6,-198630844),d=m(d,c,f,l,s[p+7],10,1126891415),l=m(l,d,c,f,s[p+14],15,-1416354905),f=m(f,l,d,c,s[p+5],21,-57434055),c=m(c,f,l,d,s[p+12],6,1700485571),d=m(d,c,f,l,s[p+3],10,-1894986606),l=m(l,d,c,f,s[p+10],15,-1051523),f=m(f,l,d,c,s[p+1],21,-2054922799),c=m(c,f,l,d,s[p+8],6,1873313359),d=m(d,c,f,l,s[p+15],10,-30611744),l=m(l,d,c,f,s[p+6],15,-1560198380),f=m(f,l,d,c,s[p+13],21,1309151649),c=m(c,f,l,d,s[p+4],6,-145523070),d=m(d,c,f,l,s[p+11],10,-1120210379),l=m(l,d,c,f,s[p+2],15,718787259),f=m(f,l,d,c,s[p+9],21,-343485551),c=c+y>>>0,f=f+g>>>0,l=l+_>>>0,d=d+x>>>0}return e.endian([c,f,l,d])};u._ff=function(t,e,r,n,i,o,u){var s=t+(e&r|~e&n)+(i>>>0)+u;return(s<<o|s>>>32-o)+e},u._gg=function(t,e,r,n,i,o,u){var s=t+(e&n|r&~n)+(i>>>0)+u;return(s<<o|s>>>32-o)+e},u._hh=function(t,e,r,n,i,o,u){var s=t+(e^r^n)+(i>>>0)+u;return(s<<o|s>>>32-o)+e},u._ii=function(t,e,r,n,i,o,u){var s=t+(r^(e|~n))+(i>>>0)+u;return(s<<o|s>>>32-o)+e},u._blocksize=16,u._digestsize=16,t.exports=function(t,r){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var n=e.wordsToBytes(u(t,r));return r&&r.asBytes?n:r&&r.asString?o.bytesToString(n):e.bytesToHex(n)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],o=0;o<4;o++)8*n+6*o<=8*t.length?r.push(e.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&r.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(n))>>>6-2*i);return r}};t.exports=r}()},function(t,e){var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=r},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <https://feross.org>
	 * @license  MIT
	 */
t.exports=function(t){return null!=t&&(r(t)||n(t)||!!t._isBuffer)}},function(t,e,r){(function(e){"use strict";var r=function(t,r,n,i,o,u,s,a){if("production"!==e.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===r)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,i,o,u,s,a],l=0;c=new Error(r.replace(/%s/g,function(){return f[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=r}).call(e,r(149))},function(t,e){function r(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i}t.exports=r},function(t,e){function r(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var u=t[r];e(u,r,t)&&(o[i++]=u)}return o}t.exports=r},function(t,e,r){t.exports=r(158)},function(t,e){function r(t){return t&&t.length?t[0]:void 0}t.exports=r},function(t,e,r){var n=r(160),i=r(162),o=n(i);t.exports=o},function(t,e,r){function n(t){return function(e,r,n){var s=Object(e);if(!o(e)){var a=i(r,3);e=u(e),r=function(t){return a(s[t],t,s)}}var c=t(e,r,n);return c>-1?s[a?e[c]:c]:void 0}}var i=r(161),o=r(81),u=r(21);t.exports=n},function(t,e){function r(t){return t}t.exports=r},function(t,e,r){function n(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var a=null==r?0:u(r);return a<0&&(a=s(n+a,0)),i(t,o(e,3),a)}var i=r(163),o=r(161),u=r(103),s=Math.max;t.exports=n},function(t,e){function r(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=r},function(t,e){function r(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}t.exports=r},function(t,e){function r(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}t.exports=r},function(t,e){function r(t){if("function"!=typeof t)throw new TypeError(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var n="Expected a function";t.exports=r},function(t,e,r){var n=r(64),i=r(168),o=r(170),u=r(171),s=32,a=n(function(t,e){var r=u(e,o(a));return i(t,s,void 0,e,r)});a.placeholder={},t.exports=a},function(t,e,r){function n(t,e,r,n){function a(){for(var e=-1,o=arguments.length,s=-1,l=n.length,d=Array(l+o),p=this&&this!==u&&this instanceof a?f:t;++s<l;)d[s]=n[s];for(;o--;)d[s++]=arguments[++e];return i(p,c?r:this,d)}var c=e&s,f=o(t);return a}var i=r(67),o=r(169),u=r(27),s=1;t.exports=n},function(t,e,r){function n(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=i(t.prototype),n=t.apply(r,e);return o(n)?n:r}}var i=r(40),o=r(41);t.exports=n},function(t,e){function r(){}t.exports=r},function(t,e){function r(){return[]}t.exports=r},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(154)),o=n(r(159)),u=n(r(165)),s=function(){function t(){this.rules=[]}return t.prototype.addRule=function(t,e){this.rules.push([t,e])},t.prototype.match=function(t,e){var r=o.default(this.rules,function(r){var n=r[0];return u.default(n,function(r){return r(t,e)})}),n=r[1];return i.default(n,"Callback not found :-("),n},t}();e.Rules=s},function(t,e,r){"use strict";function n(t){var e=t.metricDefinition;return(e.expression.match(d)||[]).map(function(t){return t.substring(1,t.length-1)})}function i(t){var e=t.metricDefinition;return e.identifier}function o(t,e){var r=e.dependencies,n=l.default(t,"identifier");return 0===f.default(r,n).length}function u(t,e){for(var r=0;r<e.length;r+=1){var n=e[r];o(t,n)&&(t.push(n),e.splice(r,1),r-=1)}}function s(t){for(var e,r=[];t.length>0;)if(e=t.length,u(r,t),t.length===e)throw new Error("Metric defintions cannot be sorted due to missing dependencies.");return r}function a(t){var e=t.map(function(t){return{definition:t,identifier:i(t),dependencies:n(t)}});return l.default(s(e),"definition")}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var f=c(r(174)),l=c(r(164)),d=/{\S+}/g;e.sortDefinitions=a},function(t,e,r){var n=r(175),i=r(105),o=r(64),u=r(80),s=o(function(t,e){return u(t)?n(t,i(e,1,u,!0)):[]});t.exports=s},function(t,e,r){function n(t,e,r,n){var l=-1,d=o,p=!0,h=t.length,v=[],b=e.length;if(!h)return v;r&&(e=s(e,a(r))),n?(d=u,p=!1):e.length>=f&&(d=c,p=!1,e=new i(e));t:for(;++l<h;){var m=t[l],y=null==r?m:r(m);if(m=n||0!==m?m:0,p&&y===y){for(var g=b;g--;)if(e[g]===y)continue t;v.push(m)}else d(e,y,n)||v.push(m)}return v}var i=r(176),o=r(177),u=r(179),s=r(120),a=r(180),c=r(181),f=200;t.exports=n},function(t,e,r){function n(){if(!arguments.length)return[];var t=arguments[0];return i(t)?t:[t]}var i=r(44);t.exports=n},function(t,e,r){function n(t,e){var r=null==t?0:t.length;return!!r&&i(t,e,0)>-1}var i=r(178);t.exports=n},function(t,e){function r(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}t.exports=r},function(t,e){function r(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}t.exports=r},function(t,e){function r(t){return function(e){return t(e)}}t.exports=r},function(t,e,r){function n(t,e){var r=null==t?0:t.length;return!!r&&i(t,e,0)>-1}var i=r(178);t.exports=n},function(t,e,r){"use strict";function n(t){return t.map(function(t){return s.default(t,["attributeDisplayForm","content","formOf"])})}function i(t,e){return t.reduce(function(t,r){var n=s.default(r,["attributeDisplayForm","meta","uri"]),i=e.find(function(t){return s.default(t,["attribute","meta","uri"])===s.default(r,["attributeDisplayForm","content","formOf"])});return a.default(t,[n],i)},{})}function o(t,e){var r=t||[];return r.filter(function(t){return!e[t]})}var u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=u(r(89)),a=u(r(53));e.getMissingUrisInAttributesMap=o;var c=function(){function t(t){this.md=t}return t.prototype.loadAttributesMap=function(t,e){var r=this;return 0===e.length?Promise.resolve({}):this.md.getObjects(t,e).then(function(e){var o=n(e);return r.md.getObjects(t,o).then(function(t){return i(e,t)})})},t}();e.AttributesMapLoaderModule=c},function(t,e,r){"use strict";function n(t){return y.default(t,g,[])}function i(t){return void 0!==y.default(t,"visualizationAttribute")}function o(t){return void 0!==(y.default(t,"positiveAttributeFilter")||y.default(t,"negativeAttributeFilter"))}function u(t){return void 0!==y.default(t,"measure")}function s(t){return y.default(t,"items").reduce(function(t,e){return i(e)&&t.push(y.default(e,"visualizationAttribute")),t},[])}function a(t){var e=n(t);return e.reduce(function(t,e){return t.concat(s(e))},[])}function c(t){return y.default(t,"items").reduce(function(t,e){return u(e)&&t.push(y.default(e,"measure")),t},[])}function f(t){return y.default(t,["definition","measureDefinition"],{})}function l(t){var e=n(t);return e.reduce(function(t,e){return t.concat(c(e))},[])}function d(t){return y.default(f(t),"filters",[])}function p(t){return d(t).filter(o)}function h(t){return l(t).reduce(function(t,e){return t.concat(p(e))},[])}function v(t){return y.default(t,["positiveAttributeFilter","displayForm","uri"])||y.default(t,["negativeAttributeFilter","displayForm","uri"])}function b(t){var e=a(t).map(function(t){return y.default(t,["displayForm","uri"])}),r=h(t),n=r.map(v);return n.concat(e)}var m=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var y=m(r(89)),g="buckets";e.getBuckets=n,e.isAttributeMeasureFilter=o,e.getAttributes=a,e.getDefinition=f,e.getMeasures=l,e.getMeasureFilters=d,e.getMeasureAttributeFilters=p,e.getAttributesDisplayForms=b},function(t,e,r){"use strict";function n(t){return t.split(/\?(.+)/)[1]}function i(t){return t.executionResponse}function o(t){return t.executionResult}function u(t){m.default(1===t||2===t,t+" dimensions are not allowed. Only 1 or 2 dimensions are supported.")}function s(t){var e=t.visualizationExecution,r=e.reference,n=e.resultSpec,i=e.filters,o=n?{resultSpec:n}:void 0,u=i?{filters:i}:void 0;return JSON.stringify({visualizationExecution:v({reference:r},o,u)})}function a(t,e,r){var n=t.split(/\?(.+)/),i=n[0],o=n[1],u=v({},y.default.parse(o),{limit:e.join(","),offset:r.join(",")});return i+y.default.stringify(u,{addQueryPrefix:!0})}function c(t,e,r){var n=r.length,i=e[0]+t[0];if(1===n)return[i];var o=e[1]+t[1],u=e[1]+t[1]<r[1],s=u?e[0]:i,a=u?o:0;return[s,a]}function f(t,e,r){var n=r.length;u(n);var i=function(t,e,r){return e+t>r?r-e:t};return 2===n&&0===e[1]&&t[0]<r[1]?[i(t[0],e[0],r[0]),t[0]]:g.default(n).map(function(n){return i(t[n],e[n],r[n])})}function l(t,e){return t[0]<e[0]}function d(t,e,r){var n;if(e&&r.headerItems)for(var i=0;i<e[t].length;i+=1)(n=r.headerItems[t][i]).push.apply(n,e[t][i])}function p(t,e){var r=t,n=e.headerItems,i=e.data,o=e.paging,u=function(t){var e=0===t?1:0,i=0===o.offset[e];i&&d(t,n,r)},s=o.offset[0];if(r.data[s])for(var a=0;a<i.length;a+=1){var c=i[a],f=r.data[a+s];f.push.apply(f,c)}else{var f=r.data,l=i;f.push.apply(f,l)}return o.offset.length>1?(u(0),u(1)):d(0,n,r),1===o.offset.length&&(r.paging.count=[_.default(r,"headerItems[0][0]",[]).length]),2===o.offset.length&&(r.paging.count=[_.default(r,"headerItems[0][0]",[]).length,_.default(r,"headerItems[1][0]",[]).length]),r}var h=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),v=this&&this.__assign||function(){return v=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},v.apply(this,arguments)},b=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var m=b(r(154)),y=b(r(95)),g=b(r(185)),_=b(r(89)),x=r(48),A=r(136);e.DEFAULT_LIMIT=1e3;var D=function(t){function e(e,r){var n=t.call(this,e.message,e.response,e.responseBody)||this;return n.executionResponse=r,n}return h(e,t),e}(x.ApiResponseError);e.ApiExecutionResponseError=D;var O=function(){function t(t){this.xhr=t}return t.prototype.executeAfm=function(t,e){var r=this;return u(_.default(e,"execution.resultSpec.dimensions").length),this.getExecutionResponse(t,e).then(function(t){return r.getExecutionResult(t.links.executionResult).then(function(e){return{executionResponse:t,executionResult:e}}).catch(function(e){throw new D(e,t)})})},t.prototype.getExecutionResponse=function(t,e){return u(_.default(e,"execution.resultSpec.dimensions").length),this.xhr.post("/gdc/app/projects/"+t+"/executeAfm",{body:A.convertExecutionToJson(e)}).then(function(t){return t.getData()}).then(i)},t.prototype._executeVisualization=function(t,e){var r=this;return this._getVisExecutionResponse(t,e).then(function(t){return r.getExecutionResult(t.links.executionResult).then(function(e){return{executionResponse:t,executionResult:e}})})},t.prototype._getVisExecutionResponse=function(t,e){var r=s(e);return this.xhr.post("/gdc/app/projects/"+t+"/executeVisualization",{body:r}).then(function(t){return t.getData()}).then(i)},t.prototype.getPartialExecutionResult=function(t,e,r){var i=n(t),o=Number(y.default.parse(i).dimensions);return u(o),this.getPage(t,e,r)},t.prototype.getExecutionResult=function(t){var r=n(t),i=Number(y.default.parse(r).dimensions);u(i);var o=Array(i).fill(e.DEFAULT_LIMIT),s=Array(i).fill(0);return this.getAllPages(t,o,s)},t.prototype.getPage=function(t,e,r){return this.fetchExecutionResult(t,e,r).then(function(t){return t?o(t):null})},t.prototype.getAllPages=function(t,e,r,n){var i=this;return this.fetchExecutionResult(t,e,r).then(function(r){if(!r)return null;var u=o(r),s=n?p(n,u):u,a=u.paging,d=a.offset,h=a.total,v=c(e,d,h),b=f(e,v,h);return l(v,h)?i.getAllPages(t,b,v,s):s})},t.prototype.fetchExecutionResult=function(t,e,r){var n=a(t,e,r);return this.xhr.get(n).then(function(t){return 204===t.response.status?null:t.getData()})},t}();e.ExecuteAfmModule=O,e.replaceLimitAndOffsetInUri=a,e.getNextOffset=c,e.getNextLimit=f,e.nextPageExists=l,e.mergePage=p},function(t,e,r){var n=r(186),i=n();t.exports=i},function(t,e,r){function n(t){return function(e,r,n){return n&&"number"!=typeof n&&o(e,r,n)&&(r=n=void 0),e=u(e),void 0===r?(r=e,e=0):r=u(r),n=void 0===n?e<r?1:-1:u(n),i(e,r,n,t)}}var i=r(187),o=r(69),u=r(188);t.exports=n},function(t,e){function r(t,e,r,o){for(var u=-1,s=i(n((e-t)/(r||1)),0),a=Array(s);s--;)a[o?s:++u]=t,t+=r;return a}var n=Math.ceil,i=Math.max;t.exports=r},function(t,e){function r(t){return t}t.exports=r},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(137),u=i(r(155)),s=i(r(117)),a=r(190),c=r(191),f=r(136),l=r(88),d=r(192),p=function(){function t(t){var e=this;this.xhr=t,this.handleExportResultError=function(t){return e.isApiResponseError(t)&&400===t.response.status&&t.responseBody.indexOf(a.ERROR_RESTRICTED_CODE)!==-1?Promise.reject(n({},t,{message:a.ERROR_RESTRICTED_MESSAGE})):Promise.reject(t)}}return t.prototype.exportResult=function(t,e,r,i){var o=this;void 0===r&&(r={}),void 0===i&&(i={});var u={resultExport:{executionResult:e,exportConfig:n({},r,this.sanitizeExportConfig(r))}};return this.xhr.post("/gdc/internal/projects/"+t+"/exportResult",{body:u}).then(function(t){return t.getData()}).then(function(t){return l.handleHeadPolling(o.xhr.get.bind(o.xhr),t.uri,d.isExportFinished,i)}).catch(this.handleExportResultError)},t.prototype.sanitizeExportConfig=function(t){var e=t.afm;if(e&&!s.default(e.filters)){var r=n({},e,{filters:this.sanitizeFilters(e.filters)});return n({},t,{afm:r})}return t},t.prototype.isApiResponseError=function(t){return void 0!==t.response},t.prototype.sanitizeFilters=function(t){return t?u.default(t.map(this.sanitizeFilter)):[]},t.prototype.sanitizeFilter=function(t){return o.AFM.isAttributeFilter(t)?f.convertFilter(t):o.AFM.isAbsoluteDateFilter(t)?c.convertAbsoluteDateFilter(t):o.AFM.isRelativeDateFilter(t)?c.convertRelativeDateFilter(t):t},t}();e.ReportModule=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SUCCESS_REQUEST_STATUS=200,e.ACCEPTED_REQUEST_STATUS=202,e.BAD_REQUEST_STATUS=400,e.BAD_REQUEST_MESSAGE="Bad Request",e.ERROR_RESTRICTED_CODE="Export to required format is not allowed for data flagged as restricted.",e.ERROR_RESTRICTED_MESSAGE="You cannot export this insight because it contains restricted data."},function(t,e,r){"use strict";function n(t){return c.VisualizationObject.isPositiveAttributeFilter(t)||t.negativeAttributeFilter.notIn.length?t:null}function i(t){var e=t.absoluteDateFilter;return void 0===e.from||void 0===e.to?null:{absoluteDateFilter:{dataSet:e.dataSet,from:String(e.from),to:String(e.to)}}}function o(t){var e=t.relativeDateFilter;return void 0===e.from||void 0===!e.to?null:{relativeDateFilter:{dataSet:e.dataSet,granularity:e.granularity,from:Number(e.from),to:Number(e.to)}}}function u(t){return void 0===t.measureValueFilter.condition?null:t}function s(t){return c.VisualizationObject.isAttributeFilter(t)?n(t):c.VisualizationObject.isAbsoluteDateFilter(t)?i(t):o(t)}function a(t){return c.VisualizationObject.isMeasureValueFilter(t)?u(t):s(t)}Object.defineProperty(e,"__esModule",{value:!0});var c=r(137);e.convertAbsoluteDateFilter=i,e.convertRelativeDateFilter=o,e.convertMeasureValueFilter=u,e.convertVisualizationObjectFilter=s,e.convertVisualizationObjectExtendedFilter=a},function(t,e,r){"use strict";function n(t){var e=t.status;return e===a.SUCCESS_REQUEST_STATUS||e>=a.BAD_REQUEST_STATUS}function i(t){return!!t.dateFilter}function o(t){var e=t.dateFilter,r={};return e.from&&(r.from=String(e.from)),e.to&&(r.to=String(e.to)),{dateFilter:s({},e,r)}}function u(t){return t.map(function(t){return i(t)?o(t):t})}var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=r(190);e.isExportFinished=n,e.isDateFilter=i,e.sanitizeDateFilter=o,e.sanitizeDateFilters=u},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function u(t){try{a(n.next(t))}catch(t){o(t)}}function s(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(u,s)}a((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&r[0]?o.return:r[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,r[1])).done)return u;switch(o=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){a.label=r[1];break}if(6===r[0]&&a.label<u[1]){a.label=u[1],u=r;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(r);break}u[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{i=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=r(88),u=r(192),s=function(){function t(t){this.xhr=t}return t.prototype.exportToPdf=function(t,e,r,o){return void 0===r&&(r=[]),void 0===o&&(o={}),n(this,void 0,Promise,function(){var n,s,a,c;return i(this,function(i){switch(i.label){case 0:n=u.sanitizeDateFilters(r),s=this.getDashboardExportPayload(e,n),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this.xhr.post("/gdc/internal/projects/"+t+"/exportDashboard",{body:s})];case 2:return a=i.sent(),[4,this.pollPdfFile(a,o)];case 3:return[2,i.sent()];case 4:throw c=i.sent();case 5:return[2]}})})},t.prototype.pollPdfFile=function(t,e){return n(this,void 0,Promise,function(){var r,n;return i(this,function(i){switch(i.label){case 0:return r=t.getData(),[4,o.handleHeadPolling(this.xhr.head.bind(this.xhr),r.uri,u.isExportFinished,e)];case 1:return n=i.sent(),[2,n]}})})},t.prototype.getDashboardExportPayload=function(t,e){return e.length?{dashboardExport:{dashboardUri:t,filters:e}}:{dashboardExport:{dashboardUri:t}}},t}();e.DashboardModule=s},function(t,e,r){"use strict";function n(t){if(null!==t){var e=t||"",r=e.match(c);if(!r)throw new Error(t+" is not a valid url");return"https://"+r[0].replace(/^https?:\/\/|\/$/g,"")}}function i(t){var e=o({},t);return t.domain&&(e.domain=n(t.domain)),e}var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},o.apply(this,arguments)},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=u(r(53)),a=u(r(89)),c="(?:(https)://+|(www\\.)?)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*";e.sanitizeDomain=n,e.sanitizeConfig=i;var f=function(){function t(t){if(this.configStorage=t,1!==arguments.length)throw new Error("Config module has to be called with exactly one argument.")}return t.prototype.setCustomDomain=function(t){this.configStorage.domain=n(t)},t.prototype.getCustomDomain=function(){return this.configStorage.domain},t.prototype.setJsPackage=function(t,e){this.configStorage.originPackage||(this.configStorage.originPackage={name:t,version:e})},t.prototype.getJsPackage=function(){return this.configStorage.originPackage},t.prototype.setRequestHeader=function(t,e){s.default(this.configStorage,["xhrSettings","headers",t],e)},t.prototype.getRequestHeader=function(t){return a.default(this.configStorage,["xhrSettings","headers",t])},t}();e.ConfigModule=f},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)},i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function u(t){try{a(n.next(t))}catch(t){o(t)}}function s(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(u,s)}a((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&r[0]?o.return:r[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,r[1])).done)return u;switch(o=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){a.label=r[1];break}if(6===r[0]&&a.label<u[1]){a.label=u[1],u=r;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(r);break}u[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{i=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=u(r(89)),a=u(r(159)),c=u(r(119)),f=u(r(4)),l={types:["attribute","metric","fact"],paging:{offset:0}},d={includeUnavailableDateDataSetsCount:!0,includeAvailableDateAttributes:!0},p=function(t){return s.default(t,"returnAllRelatedDateDataSets")?{}:s.default(t,"returnAllDateDataSets")?{requiredDataSets:{type:"ALL"}}:s.default(t,"dataSetIdentifier")?{requiredDataSets:{type:"CUSTOM",customIdentifiers:[s.default(t,"dataSetIdentifier")]}}:{requiredDataSets:{type:"PRODUCTION"}}},h=function(t){var e=t.columns,r=t.definitions;return e?e.map(function(t){var e=a.default(r,function(e){var r=e.metricDefinition;return r.identifier===t}),n=s.default(e,"metricDefinition.expression");return n?{expression:n}:{uri:t}}):[]},v=function(t){return!!t.uri},b=function(t){return!!t.expression},m=function(t){if(v(t))return t.uri;if(b(t))return t.expression;throw new Error("Item description can only have expression or uri")},y=function(){function t(t,e){this.xhr=t,this.execution=e}return t.prototype.loadItems=function(t,e){var r=this;void 0===e&&(e={});var i=c.default(n({},l,e,p(e)),["dataSetIdentifier","returnAllDateDataSets","attributesMap"]),o=s.default(f.default(e),"bucketItems"),u=s.default(e,"attributesMap"),a=void 0!==s.default(o,"buckets");return a?this.loadItemDescriptions(t,o,u).then(function(e){return r.loadCatalog(t,n({},i,{bucketItems:e}))}):this.loadCatalog(t,i)},t.prototype.loadDateDataSets=function(t,e){return i(this,void 0,void 0,function(){var r,i,u,a,h;return o(this,function(o){switch(o.label){case 0:return r=f.default(e).bucketItems,r?[4,this.loadItemDescriptions(t,r,s.default(e,"attributesMap"),!0)]:[3,2];case 1:return u=o.sent(),[3,3];case 2:u=void 0,o.label=3;case 3:return i=u,a=["filter","types","paging","dataSetIdentifier","returnAllDateDataSets","returnAllRelatedDateDataSets","attributesMap"],e.includeObjectsWithTags&&a.push("excludeObjectsWithTags"),h=c.default(n({},d,l,e,p(e),{bucketItems:i}),a),[2,this.requestDateDataSets(t,h)]}})})},t.prototype.loadItemDescriptionObjects=function(t,e,r,n){return void 0===n&&(n=!1),i(this,void 0,Promise,function(){var i;return o(this,function(o){switch(o.label){case 0:return[4,this.execution.mdToExecutionDefinitionsAndColumns(t,e,{attributesMap:r,removeDateItems:n})];case 1:return i=o.sent(),[2,h(i)]}})})},t.prototype.loadItemDescriptions=function(t,e,r,n){return void 0===n&&(n=!1),i(this,void 0,Promise,function(){var i;return o(this,function(o){switch(o.label){case 0:return[4,this.loadItemDescriptionObjects(t,e,r,n)];case 1:return i=o.sent(),[2,i.map(m)]}})})},t.prototype.requestDateDataSets=function(t,e){var r="/gdc/internal/projects/"+t+"/loadDateDataSets";return this.xhr.post(r,{data:{dateDataSetsRequest:e}}).then(function(t){return t.getData()}).then(function(t){return t.dateDataSetsResponse})},t.prototype.loadCatalog=function(t,e){var r="/gdc/internal/projects/"+t+"/loadCatalog";return this.xhr.post(r,{data:{catalogRequest:e}}).then(function(t){return t.getData()}).then(function(t){return t.catalogResponse})},t}();e.CatalogueModule=y},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(197),i=r(201),o=r(202),u=r(200),s=r(203),a=r(199),c=r(204),f=r(205),l=function(){function t(t){this.xhr=t,this.dataProducts=new n.DataProductsModule(this.xhr),this.domainDataProducts=new i.DomainDataProductModule(this.xhr),this.domains=new o.DomainsModule(this.xhr),this.domainSegments=new u.DomainSegmentsModule(this.xhr),this.clients=new s.ClientsModule(this.xhr),this.logs=new c.LogsModule(this.xhr),this.contracts=new f.ContractsModule(this.xhr),this.segments=new a.SegmentsModule(this.xhr)}return t}();e.AdminModule=l},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=r(198),u=r(199),s=i(r(201));e.transformDataProduct=function(t){var e=o.parse(t.dataProduct.links.self,o.CONTRACT_DATA_PRODUCT).contractId,r=n({contractId:e},t.dataProduct);return r.domainDataProducts&&(r.domainDataProducts=r.domainDataProducts.map(s.transformDomainDataProduct)),r.segments&&(r.segments=r.segments.map(u.transformSegment)),r};var a=function(){function t(t){this.xhr=t}return t.prototype.getDataProducts=function(t,r){return this.xhr.get(o.interpolate(o.CONTRACT_DATA_PRODUCTS,{contractId:t},r&&{include:r})).then(function(t){return t.getData()}).then(function(t){return{items:t.dataProducts.items.map(e.transformDataProduct)}})},t.prototype.getDataProduct=function(t,r,i,u,s){return this.xhr.get(o.interpolate(o.CONTRACT_DATA_PRODUCT,{contractId:t,dataProductId:r},n({},i&&{include:i},u&&{stats:u},s&&{state:s}))).then(function(t){return t.getData()}).then(function(t){return e.transformDataProduct(t)})},t.prototype.createDataProduct=function(t,e,r){return this.xhr.post(o.interpolate(o.CONTRACT_DATA_PRODUCTS,{contractId:t}),{body:JSON.stringify({dataProductCreate:{id:e,domains:r.map(function(e){return o.interpolate(o.CONTRACT_DOMAIN,{contractId:t,domainId:e})})}})})},t.prototype.renameDataProduct=function(t,e,r){return this.xhr.post(o.interpolate(o.CONTRACT_DATA_PRODUCT_RENAME,{contractId:t,dataProductId:e}),{body:JSON.stringify({dataProductRename:{id:r}})})},t.prototype.deleteDataProduct=function(t,e){return this.xhr.del(o.interpolate(o.CONTRACT_DATA_PRODUCT,{contractId:t,dataProductId:e}))},t}();e.DataProductsModule=a},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(88);e.ROOT="/gdc/admin",e.CONTRACTS=e.ROOT+"/contracts",e.CONTRACT=e.CONTRACTS+"/:contractId",e.CONTRACT_DATA_PRODUCTS=e.CONTRACT+"/dataproducts",e.CONTRACT_DATA_PRODUCT=e.CONTRACT_DATA_PRODUCTS+"/:dataProductId",e.CONTRACT_DATA_PRODUCT_DOMAIN_DATA_PRODUCTS=e.CONTRACT_DATA_PRODUCT+"/domaindataproducts",e.CONTRACT_DATA_PRODUCT_DOMAIN_DATA_PRODUCT=e.CONTRACT_DATA_PRODUCT_DOMAIN_DATA_PRODUCTS+"/:domainId",e.CONTRACT_DATA_PRODUCT_RENAME=e.CONTRACT_DATA_PRODUCT+"/rename",e.CONTRACT_DATA_PRODUCT_SEGMENTS=e.CONTRACT_DATA_PRODUCT+"/segments",e.CONTRACT_DATA_PRODUCT_SEGMENT=e.CONTRACT_DATA_PRODUCT_SEGMENTS+"/:segmentId",e.CONTRACT_DATA_PRODUCT_SEGMENT_RENAME=e.CONTRACT_DATA_PRODUCT_SEGMENT+"/rename",e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENTS=e.CONTRACT_DATA_PRODUCT_SEGMENT+"/domainsegments",e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT=e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENTS+"/:domainId",e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLONE=e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT+"/clone",e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_RENAME=e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT+"/rename",e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_SYNC=e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT+"/synchronizeClients",e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_LOG=e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT+"/activityLog",e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLIENTS=e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT+"/clients",e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLIENT=e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLIENTS+"/:clientId",e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLIENT_USERS=e.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLIENT+"/project/users",e.CONTRACT_DOMAINS=e.CONTRACT+"/domains",e.CONTRACT_DOMAIN=e.CONTRACT_DOMAINS+"/:domainId",e.CONTRACT_DOMAIN_USERS=e.CONTRACT_DOMAIN+"/users",e.CONTRACT_DOMAIN_PROJECTS=e.CONTRACT_DOMAIN+"/projects",e.CONTRACT_DOMAIN_PROJECT=e.CONTRACT_DOMAIN_PROJECTS+"/:projectId",e.CONTRACT_USERS=e.CONTRACT+"/users",e.USER_CONTRACTS=e.ROOT+"/users/:userId/contracts",e.DEPLOY_SEGMENT=e.CONTRACT_DOMAIN+"/dataProducts/:dataProductId/segments/:segmentId/deploy",e.parse=function(t,e){var r="";if(t.startsWith("http")){var i=t.match(/^(https?:)\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);r=i?i[5]:""}else r=t;var o=r.split("/"),u=e.split("/");return u.reduce(function(t,e,r){var i;return":"===e[0]?n({},t,(i={},i[e.substr(1)]=o[r],i)):t},{})},e.interpolate=function(t,e,r){return void 0===r&&(r=null),t.split("/").map(function(t){return":"===t[0]?e[t.substr(1)]:t}).join("/")+i.queryString(r)}},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=r(198),u=i(r(200));e.transformSegment=function(t){var e=o.parse(t.segment.links.self,o.CONTRACT_DATA_PRODUCT_SEGMENT),r=e.contractId,i=e.dataProductId,s=n({
contractId:r,dataProductId:i},t.segment);return s.domainSegments&&(s.domainSegments=s.domainSegments.map(u.transformDomainSegment)),s};var s=function(){function t(t){this.xhr=t}return t.prototype.getDataProductSegments=function(t,r){return this.xhr.get(o.interpolate(o.CONTRACT_DATA_PRODUCT_SEGMENTS,{contractId:t,dataProductId:r})).then(function(t){return t.getData()}).then(function(t){return{items:t.segments.items.map(e.transformSegment),status:t.segments.status}})},t.prototype.createSegment=function(t,e,r,n){return this.xhr.post(o.interpolate(o.CONTRACT_DATA_PRODUCT_SEGMENTS,{contractId:t,dataProductId:e}),{body:JSON.stringify({segmentCreate:{id:r,title:r,domains:n.map(function(e){return o.interpolate(o.CONTRACT_DOMAIN,{contractId:t,domainId:e})})}})})},t.prototype.renameSegment=function(t,e,r,n){return this.xhr.post(o.interpolate(o.CONTRACT_DATA_PRODUCT_SEGMENT_RENAME,{contractId:t,dataProductId:e,segmentId:r}),{body:JSON.stringify({segmentRename:{id:n}})})},t.prototype.deleteSegment=function(t,e,r){return this.xhr.del(o.interpolate(o.CONTRACT_DATA_PRODUCT_SEGMENT,{contractId:t,dataProductId:e,segmentId:r}))},t}();e.SegmentsModule=s},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r(119)),u=r(198);e.transformDomainSegment=function(t){var e=u.parse(t.domainSegment.links.self,u.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT),r=e.contractId,i=e.dataProductId,o=e.segmentId,s=e.domainId;return n({contractId:r,dataProductId:i,segmentId:o,domainId:s},t.domainSegment)};var s=function(){function t(t){this.xhr=t}return t.prototype.getDomainSegments=function(t,r,n,i){return this.xhr.get(u.interpolate(u.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENTS,{contractId:t,dataProductId:r,segmentId:n},i)).then(function(t){return{items:t.getData().domainSegments.items.map(e.transformDomainSegment)}})},t.prototype.getDomainSegment=function(t,r,n,i,o){return this.xhr.get(u.interpolate(u.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT,{contractId:t,dataProductId:r,segmentId:n,domainId:i},o)).then(function(t){return e.transformDomainSegment(t.getData())})},t.prototype.cloneDomainSegment=function(t,e,r,n,i,o){return this.xhr.post(u.interpolate(u.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLONE,{contractId:t,dataProductId:e,segmentId:r,domainId:n}),{body:JSON.stringify({cloneSegmentRequest:{clonedSegmentId:i,domain:o}})})},t.prototype.deleteDomainSegment=function(t,e,r,n){return this.xhr.del(u.interpolate(u.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT,{contractId:t,dataProductId:e,segmentId:r,domainId:n}))},t.prototype.renameDomainSegment=function(t,e,r,n,i){return this.xhr.post(u.interpolate(u.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_RENAME,{contractId:t,dataProductId:e,segmentId:r,domainId:n}),{body:JSON.stringify({domainSegmentRename:{id:i}})})},t.prototype.syncDomainSegment=function(t,e,r,n){return this.xhr.post(u.interpolate(u.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_SYNC,{contractId:t,dataProductId:e,segmentId:r,domainId:n}))},t.prototype.deployDomainSegment=function(t,e,r,n,i,o){return this.xhr.post(u.interpolate(u.DEPLOY_SEGMENT,{contractId:t,dataProductId:e,segmentId:r,domainId:n},o&&{synchronize:o}),{body:JSON.stringify({deploySegmentRequest:{domain:i}})})},t.prototype.updateDomainSegment=function(t){return this.xhr.put(u.interpolate(u.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT,t),{body:JSON.stringify({domainSegment:o.default(t,["contractId","dataProductId","segmentId","domainId"])})}).then(function(t){return t.json()}).then(function(t){return e.transformDomainSegment(t)})},t}();e.DomainSegmentsModule=s},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(198);e.transformDomainDataProduct=function(t){var e=t.domainDataProduct,r=i.parse(e.links.self,i.CONTRACT_DATA_PRODUCT_DOMAIN_DATA_PRODUCT),o=r.contractId,u=r.domainId,s=r.dataProductId;return n({contractId:o,domainId:u,dataProductId:s},e)};var o=function(){function t(t){this.xhr=t}return t.prototype.getDomainDataProducts=function(t,r){return this.xhr.get(i.interpolate(i.CONTRACT_DATA_PRODUCT_DOMAIN_DATA_PRODUCTS,{contractId:t,dataProductId:r})).then(function(t){var r=t.getData(),n=r.domainDataProducts.items,i=r.status;return{items:n.map(e.transformDomainDataProduct),status:i}})},t}();e.DomainDataProductModule=o},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(198),o=function(t){var e=i.parse(t.domain.links.self,i.CONTRACT_DOMAIN),r=e.domainId,o=e.contractId;return n({id:r,contractId:o},t.domain)},u=function(t){var e=t.user,r=i.parse(e.links.domain,i.CONTRACT_DOMAIN);return n({id:e.login},r,{fullName:e.firstName+" "+e.lastName},e)},s=function(){function t(t){this.xhr=t}return t.prototype.getDomain=function(t,e,r){var n=i.interpolate(i.CONTRACT_DOMAIN,{contractId:t,domainId:e},r);return this.xhr.get(n).then(function(t){return t.getData()}).then(o)},t.prototype.getDomains=function(t,e){return this.xhr.get(i.interpolate(i.CONTRACT_DOMAINS,{contractId:t},e)).then(function(t){return t.getData()}).then(function(t){return{items:t.domains.items.map(o)}})},t.prototype.getDomainUsers=function(t,e,r,o){if(o&&!o.next)return Promise.resolve({items:[],paging:{}});var s=o?o.next:i.interpolate(i.CONTRACT_DOMAIN_USERS,{contractId:t,domainId:e},r);return this.xhr.get(s).then(function(t){return t.getData()}).then(function(t){return n({},t.domainUsers,{items:t.domainUsers.items.map(u)})})},t.prototype.getDomainProjects=function(t,e,r,o,u){var s=null;if(u){if(!u.next)return Promise.resolve({items:[],paging:{}});s=u.next}else{var a=r||o?n({},r?{state:r}:void 0,o?{prefixSearch:o}:void 0):null;s=i.interpolate(i.CONTRACT_DOMAIN_PROJECTS,{contractId:t,domainId:e},a)}return this.xhr.get(s).then(function(t){return t.getData()}).then(function(t){return n({},t.domainProjects,{items:t.domainProjects.items.map(function(t){return t.project})})})},t}();e.DomainsModule=s},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(198),o=function(){function t(t){this.xhr=t}return t.prototype.getClient=function(t,e,r,n,o){var u=this,s={stats:"user"},a=i.interpolate(i.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLIENT,{contractId:t,dataProductId:e,segmentId:r,domainId:n,clientId:o},s);return this.xhr.get(a).then(function(t){return t.getData()}).then(function(t){return u.transformClient(t)})},t.prototype.getClients=function(t,e,r,n,o,u){var s=this,a=o?{clientPrefix:o,stats:"user"}:{stats:"user"},c=u?u.next:i.interpolate(i.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLIENTS,{contractId:t,dataProductId:e,segmentId:r,domainId:n},a);return c?this.xhr.get(c).then(function(t){return t.getData()}).then(function(t){return{items:t.clients.items.map(s.transformClient),paging:t.clients.paging}}):Promise.resolve({items:[],paging:{}})},t.prototype.getClientUsers=function(t,e,r,o,u,s,a){var c=this;if(a&&!a.next)return Promise.resolve({items:[],paging:{}});var f=a?a.next:i.interpolate(i.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLIENT_USERS,{contractId:t,dataProductId:e,domainId:r,segmentId:o,clientId:u},s);return this.xhr.get(f).then(function(t){return t.getData()}).then(function(t){return n({},t.clientUsers,{items:t.clientUsers.items.map(c.transformClientUser)})})},t.prototype.transformClient=function(t){var e=i.parse(t.client.links.self,i.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_CLIENT),r=e.contractId,o=e.dataProductId,u=e.domainId,s=e.segmentId;return n({contractId:r,dataProductId:o,domainId:u,segmentId:s},t.client)},t.prototype.transformClientUser=function(t){return n({id:t.login,fullName:t.firstName+" "+t.lastName,role:t.roles[0]},t)},t}();e.ClientsModule=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(198),i=function(){function t(t){this.xhr=t}return t.prototype.getLogs=function(t,e,r,i){return this.xhr.get(n.interpolate(n.CONTRACT_DATA_PRODUCT_DOMAIN_SEGMENT_LOG,{contractId:t,dataProductId:e,domainId:r,segmentId:i})).then(function(t){return t.logs.map(function(t){return t.log})})},t}();e.LogsModule=i},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(198)),o=function(){function t(t){this.xhr=t}return t.prototype.getUserContracts=function(){return this.xhr.get(i.CONTRACTS).then(function(t){return{items:t.getData().contracts.items.map(function(t){return t.contract}),paging:t.getData().contracts.paging}})},t}();e.ContractsModule=o},function(t,e,r){"use strict";function n(t,e){return function(r){var n=t.get(r),i=e.get(r);return n?n:i?i:r}}function i(t,e,r){return l.default(o({},t.content,{filterContext:r,widgets:t.content.widgets.map(function(t){return e(t)})}),function(t){var r=t.uri;if(r)return o({},t,{uri:e(r)})})}var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},o.apply(this,arguments)},u=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function u(t){try{a(n.next(t))}catch(t){o(t)}}function s(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(u,s)}a((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&r[0]?o.return:r[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,r[1])).done)return u;switch(o=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){a.label=r[1];break}if(6===r[0]&&a.label<u[1]){a.label=u[1],u=r;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(r);break}u[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{i=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=r(100),f=r(93),l=a(r(207)),d=a(r(117)),p=a(r(119));e.createTranslator=n,e.updateContent=i;var h=function(){function t(t){this.xhr=t,this.metadataModule=new c.MetadataModule(t),this.userModule=new f.UserModule(t)}return t.prototype.saveDashboardAs=function(t,e,r){return u(this,void 0,Promise,function(){var u,a,c,f,l,d,h,v,b,m,y,g,_,x,A=this;return s(this,function(s){switch(s.label){case 0:return[4,this.getObjectsFromDashboard(t,e)];case 1:return u=s.sent(),[4,this.metadataModule.getObjectDetails(e)];case 2:a=s.sent(),c=a.analyticalDashboard,f=[],l=[],s.label=3;case 3:return s.trys.push([3,8,,14]),[4,this.duplicateFilterContext(t,u)];case 4:return d=s.sent(),f.push(d),[4,this.duplicateOrKeepKpis(t,u,r)];case 5:return h=s.sent(),this.shouldCopyKpi(r)&&f.push.apply(f,Array.from(h.values())),[4,this.duplicateWidgets(t,u,r)];case 6:return v=s.sent(),l.push.apply(l,Array.from(v.values())),b=n(h,v),m=i(c,b,d),y=this.getDashboardName(c.meta.title,r.name),g=o({},a,{analyticalDashboard:o({},a.analyticalDashboard,{content:this.getDashboardDetailObject(m,d),meta:o({},p.default(a.analyticalDashboard.meta,["identifier","uri","author","created","updated","contributor"]),{title:y})})}),[4,this.metadataModule.createObject(t,g)];case 7:return _=s.sent().analyticalDashboard.meta.uri,[2,_];case 8:return x=s.sent(),this.shouldCopyVisObj(r)?[4,Promise.all(l.map(function(e){return A.cascadingDelete(t,e)}))]:[3,10];case 9:return s.sent(),[3,12];case 10:return[4,Promise.all(l.map(function(t){return A.metadataModule.deleteObject(t)}))];case 11:s.sent(),s.label=12;case 12:return[4,Promise.all(f.map(function(e){return A.cascadingDelete(t,e)}))];case 13:return s.sent(),[2,e];case 14:return[2]}})})},t.prototype.cascadingDelete=function(t,e){return u(this,void 0,Promise,function(){var r,n,i;return s(this,function(o){switch(o.label){case 0:return[4,this.metadataModule.getObjectUsing(t,e)];case 1:return r=o.sent(),[4,this.userModule.getAccountInfo()];case 2:return n=o.sent().profileUri,i=r.filter(function(t){return t.author===n}).map(function(t){return t.link}),[2,this.xhr.post("/gdc/md/"+t+"/objects/delete",{body:{delete:{items:[e].concat(i),mode:"cascade"}}})]}})})},t.prototype.getDashboardDetailObject=function(t,e){var r=t.layout;return o({},t,{filterContext:e,widgets:t.widgets.slice()},d.default(r)?{}:{layout:r})},t.prototype.getDashboardName=function(t,e){return void 0!==e?e:"Copy of "+t},t.prototype.duplicateOrKeepKpis=function(t,e,r){return u(this,void 0,Promise,function(){var n,i=this;return s(this,function(o){switch(o.label){case 0:return n=new Map,this.shouldCopyKpi(r)?[4,Promise.all(e.filter(function(t){return"kpi"===i.unwrapObj(t).meta.category}).map(function(e){return u(i,void 0,void 0,function(){var r,i;return s(this,function(o){switch(o.label){case 0:return r=e.kpi,[4,this.metadataModule.createObject(t,e)];case 1:return i=o.sent().kpi.meta.uri,n.set(r.meta.uri,i),[2]}})})}))]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2,n]}})})},t.prototype.duplicateWidgets=function(t,e,r){return u(this,void 0,Promise,function(){var n,i=this;return s(this,function(o){switch(o.label){case 0:return n=new Map,[4,Promise.all(e.filter(function(t){return"visualizationWidget"===i.unwrapObj(t).meta.category}).map(function(e){return u(i,void 0,void 0,function(){return s(this,function(i){return[2,this.createAndUpdateWidgets(t,e,r,n)]})})}))];case 1:return o.sent(),[2,n]}})})},t.prototype.createAndUpdateWidgets=function(t,e,r,n){return u(this,void 0,Promise,function(){var i,u,a,c,f,l;return s(this,function(s){switch(s.label){case 0:return i=e.visualizationWidget,this.shouldCopyVisObj(r)?[4,this.metadataModule.getObjectDetails(i.content.visualization)]:[3,4];case 1:return u=s.sent(),[4,this.metadataModule.createObject(t,u)];case 2:return a=s.sent().visualizationObject.meta.uri,c=o({},e,{visualizationWidget:o({},e.visualizationWidget,{content:o({},e.visualizationWidget.content,{visualization:a})})}),[4,this.metadataModule.createObject(t,c)];case 3:return f=s.sent().visualizationWidget.meta.uri,n.set(i.meta.uri,f),[3,6];case 4:return[4,this.metadataModule.createObject(t,e)];case 5:l=s.sent().visualizationWidget,n.set(e.visualizationWidget.meta.uri,l.meta.uri),s.label=6;case 6:return[2]}})})},t.prototype.duplicateFilterContext=function(t,e){return u(this,void 0,Promise,function(){var r,n=this;return s(this,function(i){switch(i.label){case 0:return[4,this.metadataModule.createObject(t,e.filter(function(t){return"filterContext"===n.unwrapObj(t).meta.category})[0])];case 1:return r=i.sent().filterContext,[2,r.meta.uri]}})})},t.prototype.getObjectsFromDashboard=function(t,e){return u(this,void 0,Promise,function(){var r;return s(this,function(n){switch(n.label){case 0:return[4,this.getObjectsUrisInDashboard(t,e)];case 1:return r=n.sent(),[2,this.metadataModule.getObjects(t,r)]}})})},t.prototype.getObjectsUrisInDashboard=function(t,e){return u(this,void 0,Promise,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.metadataModule.getObjectUsing(t,e,{types:["kpi","visualizationWidget","filterContext"]})];case 1:return[2,r.sent().map(function(t){return t.link})]}})})},t.prototype.unwrapObj=function(t){return t[Object.keys(t)[0]]},t.prototype.shouldCopyVisObj=function(t){return!(!t.copyVisObj&&"undefined"!=typeof t.copyVisObj)},t.prototype.shouldCopyKpi=function(t){return!(!t.copyKpi&&"undefined"!=typeof t.copyKpi)},t}();e.MetadataModuleExt=h},function(t,e,r){function n(t,e){return e="function"==typeof e?e:void 0,i(t,o|u,e)}var i=r(5),o=1,u=4;t.exports=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.xhr=t}return t.prototype.getBootstrapData=function(){return this.xhr.get("/gdc/app/account/bootstrap").then(function(t){return t.getData()})},t.prototype.getMapboxToken=function(t){return t.bootstrapResource.current.mapboxToken||null},t}();e.BootstrapModule=r},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(210));e.Header=i;var o=n(r(211));e.DataSourceUtils=o;var u=n(r(212));e.DataSource=u;var s=n(r(214));e.Filters=s;var a=n(r(135));e.Uri=a;var c=r(215);e.createSubject=c.createSubject,e.ISubject=c.ISubject;var f=r(247);e.toAfmResultSpec=f.toAfmResultSpec;var l=n(r(252));e.ResultSpecUtils=l;var d=n(r(253));e.AfmUtils=d;var p=r(254);e.DataTable=p.DataTable;var h=r(262);e.DummyAdapter=h.DummyAdapter;var v=r(264);e.ExecuteAfmAdapter=v.ExecuteAfmAdapter;var b=r(265);e.UriAdapter=b.UriAdapter;var m=r(266);e.IAdapter=m.IAdapter},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e){"use strict";function r(t,e){var r=t?t.getFingerprint():null,n=e?e.getFingerprint():null;return r===n}Object.defineProperty(e,"__esModule",{value:!0}),e.dataSourcesMatch=r},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(126)),o=r(213);e.IDataSource=o.IDataSource;var u=r(184),s=function(){function t(t,e,r,n,i){this.execFactory=t,this.afm=e,this.fingerprint=r,this.responseFactory=n,this.resultFactory=i,this.executionPromises={}}return t.prototype.getData=function(t){return this.execFactory(t)},t.prototype.getPage=function(t,e,r){var n=this;void 0===e&&(e=[]),void 0===r&&(r=[]);var o=i.default(t);if(!this.responseFactory)throw new Error("Missing responseFactory!");return this.executionPromises[o]||(this.executionPromises[o]=this.responseFactory(t)),this.executionPromises[o].then(function(t){if(!n.resultFactory)throw new Error("Missing resultFactory!");var i=r.map(function(t){return void 0===t&&(t=0),t}),o=e.map(function(t){void 0===t&&(t=u.DEFAULT_LIMIT);var e=Math.min(t,u.DEFAULT_LIMIT);return e<t&&console.warn("The maximum limit per page is "+u.DEFAULT_LIMIT),e});return n.resultFactory(t.links.executionResult,o,i).then(function(e){return{executionResult:e,executionResponse:t}})})},t.prototype.getAfm=function(){return this.afm},t.prototype.getFingerprint=function(){return this.fingerprint?this.fingerprint:i.default(this.afm)},t}();e.DataSource=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";function n(t){return f.default(t)}function i(t){return h(t)?n(t.positiveAttributeFilter.in):p(t)?n(t.negativeAttributeFilter.notIn):!d(t)}function o(t){return!i(t)}function u(t,e){var r=c.default(t);return s({},r,{filters:(r.filters||[]).concat(e).filter(o)})}var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},s.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(r(4)),f=a(r(117)),l=r(137),d=l.AFM.isDateFilter,p=l.AFM.isNegativeAttributeFilter,h=l.AFM.isPositiveAttributeFilter;e.isEmptyAttributeElements=n,e.isEmptyFilter=i,e.isNotEmptyFilter=o,e.mergeFilters=u},function(t,e,r){"use strict";function n(t,e){var r=new u.Subject,n=r.switchMap(o.default).catch(function(t,r){return e(t),r}).subscribe(t),i={next:function(t){r.next(t)},unsubscribe:function(){n.unsubscribe(),r.unsubscribe()}};return i}var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r(65)),u=r(216),s=r(222);e.Subscription=s.Subscription,r(235),r(244),e.createSubject=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(217),o=r(220),u=r(222),s=r(233),a=r(234),c=r(229),f=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(o.Subscriber);e.SubjectSubscriber=f;var l=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[c.rxSubscriber]=function(){return new f(this)},e.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),u.Subscription.EMPTY):this.isStopped?(t.complete(),u.Subscription.EMPTY):(this.observers.push(t),new a.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new d(t,e)},e}(i.Observable);e.Subject=l;var d=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):u.Subscription.EMPTY},e}(l);e.AnonymousSubject=d},function(t,e,r){"use strict";var n=r(218),i=r(219),o=r(230),u=r(231),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=i.toSubscriber(t,e,r);if(n?n.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var r=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var i;i=r.subscribe(function(e){if(i)try{t(e)}catch(t){n(t),i.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:u.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();e.Observable=s},function(t,e){(function(t){"use strict";var r="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i="undefined"!=typeof t&&t,o=r||i||n;e.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t,e,r){if(t){if(t instanceof i.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||r?new i.Subscriber(t,e,r):new i.Subscriber(u.empty)}var i=r(220),o=r(229),u=r(228);e.toSubscriber=n},function(t,e,r){"use strict";function n(t){return t instanceof c||"syncErrorThrowable"in t&&t[a.rxSubscriber]}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(221),u=r(222),s=r(228),a=r(229),c=function(t){function e(e,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!e){this.destination=s.empty;break}if("object"==typeof e){if(n(e)){var o=e[a.rxSubscriber]();this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)}else this.syncErrorThrowable=!0,this.destination=new f(this,e);break}default:this.syncErrorThrowable=!0,this.destination=new f(this,e,r,i)}}return i(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,r=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=r,this},e}(u.Subscription);e.Subscriber=c;var f=function(t){function e(e,r,n,i){t.call(this),this._parentSubscriber=e;var u,a=this;o.isFunction(r)?u=r:r&&(u=r.next,n=r.error,i=r.complete,r!==s.empty&&(a=Object.create(r),o.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=u,this._error=n,this._complete=i}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},function(t,e){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},function(t,e,r){"use strict";function n(t){return t.reduce(function(t,e){return t.concat(e instanceof c.UnsubscriptionError?e.errors:e)},[])}var i=r(223),o=r(224),u=r(221),s=r(225),a=r(226),c=r(227),f=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this,f=r._parent,l=r._parents,d=r._unsubscribe,p=r._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,v=l?l.length:0;f;)f.remove(this),f=++h<v&&l[h]||null;if(u.isFunction(d)){var b=s.tryCatch(d).call(this);b===a.errorObject&&(e=!0,t=t||(a.errorObject.e instanceof c.UnsubscriptionError?n(a.errorObject.e.errors):[a.errorObject.e]))}if(i.isArray(p))for(h=-1,v=p.length;++h<v;){var m=p[h];if(o.isObject(m)){var b=s.tryCatch(m.unsubscribe).call(m);if(b===a.errorObject){e=!0,t=t||[];var y=a.errorObject.e;y instanceof c.UnsubscriptionError?t=t.concat(n(y.errors)):t.push(y)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=this._subscriptions||(this._subscriptions=[]);return i.push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);r!==-1&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this,r=e._parent,n=e._parents;r&&r!==t?n?n.indexOf(t)===-1&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=f},function(t,e){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},function(t,e,r){"use strict";function n(){try{return o.apply(this,arguments)}catch(t){return u.errorObject.e=t,u.errorObject}}function i(t){return o=t,n}var o,u=r(226);e.tryCatch=i},function(t,e){"use strict";e.errorObject={e:{}}},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){
return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return r(e,t),e}(Error);e.UnsubscriptionError=n},function(t,e){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,r){"use strict";var n=r(218),i=n.root.Symbol;e.rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}var i=r(218);e.getSymbolObservable=n,e.observable=n(i.root),e.$$observable=e.observable},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i(t)}function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:o.noop}var o=r(232);e.pipe=n,e.pipeFromArray=i},function(t,e){"use strict";function r(){}e.noop=r},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(222),o=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);r!==-1&&e.splice(r,1)}}},e}(i.Subscription);e.SubjectSubscription=o},function(t,e,r){"use strict";var n=r(217),i=r(236);n.Observable.prototype.switchMap=i.switchMap},function(t,e,r){"use strict";function n(t,e){return i.switchMap(t,e)(this)}var i=r(237);e.switchMap=n},function(t,e,r){"use strict";function n(t,e){return function(r){return r.lift(new s(t,e))}}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(238),u=r(239);e.switchMap=n;var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=u.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._tryNotifyNext(t,e,r,n):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(220),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);e.OuterSubscriber=o},function(t,e,r){"use strict";function n(t,e,r,n){var d=new f.InnerSubscriber(t,r,n);if(d.closed)return null;if(e instanceof a.Observable)return e._isScalar?(d.next(e.value),d.complete(),null):(d.syncErrorThrowable=!0,e.subscribe(d));if(o.isArrayLike(e)){for(var p=0,h=e.length;p<h&&!d.closed;p++)d.next(e[p]);d.closed||d.complete()}else{if(u.isPromise(e))return e.then(function(t){d.closed||(d.next(t),d.complete())},function(t){return d.error(t)}).then(null,function(t){i.root.setTimeout(function(){throw t})}),d;if(e&&"function"==typeof e[c.iterator])for(var v=e[c.iterator]();;){var b=v.next();if(b.done){d.complete();break}if(d.next(b.value),d.closed)break}else if(e&&"function"==typeof e[l.observable]){var m=e[l.observable]();if("function"==typeof m.subscribe)return m.subscribe(new f.InnerSubscriber(t,r,n));d.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var y=s.isObject(e)?"an invalid object":"'"+e+"'",g="You provided "+y+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";d.error(new TypeError(g))}}return null}var i=r(218),o=r(240),u=r(241),s=r(224),a=r(217),c=r(242),f=r(243),l=r(230);e.subscribeToResult=n},function(t,e){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},function(t,e){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},function(t,e,r){"use strict";function n(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var r=t.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=t.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),o=0;o<i.length;++o){var u=i[o];if("entries"!==u&&"size"!==u&&n.prototype[u]===n.prototype.entries)return u}return"@@iterator"}var i=r(218);e.symbolIteratorPonyfill=n,e.iterator=n(i.root),e.$$iterator=e.iterator},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(220),o=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);e.InnerSubscriber=o},function(t,e,r){"use strict";var n=r(217),i=r(245);n.Observable.prototype.catch=i._catch,n.Observable.prototype._catch=i._catch},function(t,e,r){"use strict";function n(t){return i.catchError(t)(this)}var i=r(246);e._catch=n},function(t,e,r){"use strict";function n(t){return function(e){var r=new s(t),n=e.lift(r);return r.caught=n}}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(238),u=r(239);e.catchError=n;var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.selector,this.caught))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.selector=r,this.caught=n}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(u.subscribeToResult(this,r))}},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){var r=t.visualizationAttribute.alias,n=r?{alias:r}:{};return v({displayForm:t.visualizationAttribute.displayForm,localIdentifier:t.visualizationAttribute.localIdentifier||"a"+(e+1)},n)}function i(t){var e=a(t.buckets).map(n),r=l(t),i=r?e.concat([r]):e,u=i.length?{attributes:i}:{},c=o(t.buckets).map(A.default.convertMeasure),f=c.length?{measures:c}:{},d=t.filters?m.default(t.filters.map(x.convertVisualizationObjectExtendedFilter)):[],p=d.length?{filters:d}:{},h=s(t),b=h.length?{nativeTotals:h}:{};return v({},f,u,p,b)}function o(t){return t.reduce(function(t,e){var r=e.items.filter(_.VisualizationObject.isMeasure);return t.concat(r)},[])}function u(t,e){var r=t.items.filter(_.VisualizationObject.isAttribute),n=r.findIndex(function(t){return t.visualizationAttribute.localIdentifier===e.attributeIdentifier});return r.slice(0,n).map(function(t){return t.visualizationAttribute.localIdentifier})}function s(t){var e=t.buckets.map(function(t){var e=t.totals||[],r=e.filter(function(t){return"nat"===t.type});return r.map(function(e){return{measureIdentifier:e.measureIdentifier,attributeIdentifiers:u(t,e)}})});return y.default(e)}function a(t){return t.reduce(function(t,e){var r=e.items.filter(_.VisualizationObject.isAttribute);return t.concat(r)},[])}function c(t){try{return JSON.parse(t)}catch(t){return{}}}function f(t,e){var r=e?{alias:e}:{};return v({localIdentifier:D.TOOLTIP_TEXT,displayForm:{uri:t}},r)}function l(t){var e=c(t.properties||""),r=g.default(e,"controls.tooltipText","");if(r){var n=t.buckets.reduce(function(t,e){return t||e.localIdentifier!==D.LOCATION?t:g.default(e,"items[0].visualizationAttribute.alias")},"");return f(r,n)}return null}function d(t){if(t.properties){var e={};try{e=JSON.parse(t.properties)}catch(t){console.error("Properties contains invalid JSON string.")}var r=g.default(e,"sortItems",[]);return r?r:[]}return[]}function p(t){var e=d(t),r=e.length?{sorts:e.slice(0,1)}:{};return v({},r)}function h(t){var e=i(t);return{afm:e,resultSpec:p(t)}}var v=this&&this.__assign||function(){return v=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},v.apply(this,arguments)},b=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var m=b(r(155)),y=b(r(248)),g=b(r(89)),_=r(137),x=r(191),A=b(r(249)),D=r(251);e.toAfmResultSpec=h},function(t,e,r){function n(t,e){return i(o(t,e),1)}var i=r(105),o=r(164);t.exports=n},function(t,e,r){"use strict";function n(t){var e=t.measure.definition,r=i(e),n=c(t),o=n?{format:n}:{},u=t.measure.alias?t.measure.alias:t.measure.title,s=u?{alias:u}:{};return f({localIdentifier:t.measure.localIdentifier,definition:r},s,o)}function i(t){if(p.VisualizationObject.isMeasureDefinition(t))return o(t);if(p.VisualizationObject.isPopMeasureDefinition(t))return u(t);if(p.VisualizationObject.isPreviousPeriodMeasureDefinition(t))return s(t);if(p.VisualizationObject.isArithmeticMeasureDefinition(t))return a(t);throw Error("The measure definition is not supported: "+JSON.stringify(t))}function o(t){var e=t.measureDefinition,r=e.filters?d.default(e.filters.map(h.convertVisualizationObjectFilter)):[],n=r.length?{filters:r}:{},i=e.aggregation,o=i?{aggregation:i}:{},u=e.computeRatio,s=u?{computeRatio:u}:{};return{measure:f({item:e.item},n,o,s)}}function u(t){var e=t.popMeasureDefinition;return{popMeasure:{measureIdentifier:e.measureIdentifier,popAttribute:e.popAttribute}}}function s(t){var e=t.previousPeriodMeasure;return{previousPeriodMeasure:{measureIdentifier:e.measureIdentifier,dateDataSets:e.dateDataSets.map(function(t){return{dataSet:t.dataSet,periodsAgo:t.periodsAgo}})}}}function a(t){var e=t.arithmeticMeasure;return{arithmeticMeasure:{measureIdentifiers:e.measureIdentifiers.slice(),operator:e.operator}}}function c(t){var e=t.measure,r=e.definition,n=e.format;if(p.VisualizationObject.isMeasureDefinition(r)){var i=r.measureDefinition;if(i.computeRatio&&i.aggregation)if("count"===i.aggregation){if(n===v.DEFAULT_INTEGER_FORMAT)return v.DEFAULT_PERCENTAGE_FORMAT}else if(n===v.DEFAULT_DECIMAL_FORMAT)return v.DEFAULT_PERCENTAGE_FORMAT}if(n)return n;var o=p.VisualizationObject.isArithmeticMeasureDefinition(r)&&"change"===r.arithmeticMeasure.operator;if(o)return v.DEFAULT_PERCENTAGE_FORMAT;if(p.VisualizationObject.isMeasureDefinition(r)){var i=r.measureDefinition;if(i.computeRatio)return v.DEFAULT_PERCENTAGE_FORMAT;if("count"===i.aggregation)return v.DEFAULT_INTEGER_FORMAT}}var f=this&&this.__assign||function(){return f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},f.apply(this,arguments)},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var d=l(r(155)),p=r(137),h=r(191),v=r(250),b={convertMeasure:n};e.default=b},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_DECIMAL_FORMAT="#,##0.00",e.DEFAULT_PERCENTAGE_FORMAT="#,##0.00%",e.DEFAULT_INTEGER_FORMAT="#,##0"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TOOLTIP_TEXT="tooltipText",e.LOCATION="location"},function(t,e,r){"use strict";function n(t,e){return void 0===t&&(t={}),void 0===e&&(e=[]),0===e.length?t:c({},t,{sorts:e})}function i(t){return!!t.attributeSortItem}function o(t){return!i(t)}function u(t){return!!t.measureLocatorItem}function s(t){if(i(t))return t.attributeSortItem.attributeIdentifier;if(o(t)){var e=t.measureSortItem.locators[0];if(u(e))return e.measureLocatorItem.measureIdentifier}return null}function a(t,e){if(!e)return!0;var r=s(e),n=f.normalizeAfm(t);return n.measures.some(function(t){return t.localIdentifier===r})||n.attributes.some(function(t){return t.localIdentifier===r})}var c=this&&this.__assign||function(){return c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},c.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var f=r(253);e.applySorting=n,e.isSortValid=a},function(t,e,r){"use strict";function n(t){return t.definition.measure}function i(t){return t.definition.popMeasure}function o(t){return t.definition.previousPeriodMeasure}function u(t){return t.definition.arithmeticMeasure}function s(t){return{attributes:t.attributes||[],measures:t.measures||[],filters:t.filters||[],nativeTotals:t.nativeTotals||[]}}function a(t){return!!n(t)}function c(t){return!!i(t)}function f(t){return!!o(t)}function l(t){return!!u(t)}function d(t){return P.AFM.isAttributeFilter(t)}function p(t){return P.AFM.isDateFilter(t)}function h(t){return!!P.AFM.isNegativeAttributeFilter(t)&&0===t.negativeAttributeFilter.notIn.length}function v(t){return t.measures.some(function(t){if(a(t)){var e=n(t).filters;return!(!e||!e.some(P.AFM.isDateFilter))}return!1})}function b(t){return t.filters.filter(P.AFM.isDateFilter)}function m(t){return E.default(t.measures,function(t){var r=n(t);return r&&e.hasFilters(r)?(r.filters||[]).filter(P.AFM.isDateFilter):[]})}function y(t){return t.filters.some(P.AFM.isDateFilter)}function g(t){return t.uri?t.uri:t.identifier?t.identifier:null}function _(t){if(P.AFM.isRelativeDateFilter(t))return t.relativeDateFilter.dataSet;if(P.AFM.isAbsoluteDateFilter(t))return t.absoluteDateFilter.dataSet;throw new Error("Unsupported type of date filter")}function x(t,e){var r=_(t),n=_(e);return r&&n&&g(r)===g(n)}function A(t){return!!P.AFM.isRelativeDateFilter(t)&&t.relativeDateFilter.granularity===e.ALL_TIME_GRANULARITY}function D(t,e,r,n){var i=r&&!A(r)?[r]:[],o=t.filters?t.filters.filter(P.AFM.isDateFilter)[0]:null,u=t.filters||[];r&&A(r)&&(u=u.filter(function(t){return!P.AFM.isDateFilter(t)||!x(t,r)})),(o&&r&&!x(o,r)||o&&!r)&&i.push(o);var s=u.filter(function(t){return!P.AFM.isDateFilter(t)}),a=j.default(s.concat(e,i,n||[]));return a.length||t.filters&&t.filters.length?T({},t,{filters:a}):t}function O(t){var e=s(t);return e.measures.length>0||e.attributes.length>0}var T=this&&this.__assign||function(){return T=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},T.apply(this,arguments)},S=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var E=S(r(248)),j=S(r(155)),P=r(137);e.ALL_TIME_GRANULARITY="ALL_TIME_GRANULARITY",e.unwrapSimpleMeasure=n,e.unwrapPoPMeasure=i,e.unwrapPreviousPeriodMeasure=o,e.unwrapArithmeticMeasure=u,e.normalizeAfm=s,e.isSimpleMeasure=a,e.isPoP=c,e.isPreviousPeriodMeasure=f,e.isArithmeticMeasure=l,e.isAttributeFilter=d,e.isDateFilter=p,e.isAttributeFilterSelectAll=h,e.hasMetricDateFilters=v,e.getGlobalDateFilters=b,e.hasFilters=function(t){return!!(t.filters&&t.filters.length>0)},e.getMeasureDateFilters=m,e.hasGlobalDateFilter=y,e.getId=g,e.getDateFilterDateDataSet=_,e.dateFiltersDataSetsMatch=x,e.appendFilters=D,e.isAfmExecutable=O},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(89)),o=n(r(117)),u=n(r(255)),s=r(253),a=r(215),c=function(){function t(t){var e=this;this.dataSubscribers=[],this.errorSubscribers=[],this.adapter=t,this.subject=a.createSubject(function(t){return e.dataSubscribers.forEach(function(e){return e(t)})},function(t){return e.errorSubscribers.forEach(function(e){return e(t)})})}return t.getDefaultDimensionsForTable=function(t){return[{itemIdentifiers:(t.attributes||[]).map(function(t){return t.localIdentifier})},{itemIdentifiers:["measureGroup"]}]},t.prototype.getData=function(e,r){var n=this;void 0===r&&(r={}),s.isAfmExecutable(e)&&(o.default(i.default(r,"dimensions"))&&(r.dimensions=t.getDefaultDimensionsForTable(e)),u.default(e,this.afm)?this.dataSource&&this.fetchData(r):(this.afm=e,this.adapter.createDataSource(e).then(function(t){n.dataSource=t,n.fetchData(r)},function(t){n.errorSubscribers.forEach(function(e){return e(t)})})))},t.prototype.onData=function(t){return this.dataSubscribers.push(t),this},t.prototype.onError=function(t){return this.errorSubscribers.push(t),this},t.prototype.resetDataSubscribers=function(){return this.dataSubscribers=[],this},t.prototype.resetErrorSubscribers=function(){return this.errorSubscribers=[],this},t.prototype.fetchData=function(t){this.dataSource&&this.subject.next(this.dataSource.getData(t))},t}();e.DataTable=c},function(t,e,r){function n(t,e){return i(t,e)}var i=r(256);t.exports=n},function(t,e,r){function n(t,e,r,u,s){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,r,u,n,s))}var i=r(257),o=r(51);t.exports=n},function(t,e,r){function n(t,e,r,n,b,y){var g=c(t),_=c(e),x=g?h:a(t),A=_?h:a(e);x=x==p?v:x,A=A==p?v:A;var D=x==v,O=A==v,T=x==A;if(T&&f(t)){if(!f(e))return!1;g=!0,D=!1}if(T&&!D)return y||(y=new i),g||l(t)?o(t,e,r,n,b,y):u(t,e,x,r,n,b,y);if(!(r&d)){var S=D&&m.call(t,"__wrapped__"),E=O&&m.call(e,"__wrapped__");if(S||E){var j=S?t.value():t,P=E?e.value():e;return y||(y=new i),b(j,P,r,n,y)}}return!!T&&(y||(y=new i),s(t,e,r,n,b,y))}var i=r(6),o=r(258),u=r(260),s=r(261),a=r(36),c=r(44),f=r(45),l=r(83),d=1,p="[object Arguments]",h="[object Array]",v="[object Object]",b=Object.prototype,m=b.hasOwnProperty;t.exports=n},function(t,e,r){function n(t,e,r,n,c,f){var l=r&s,d=t.length,p=e.length;if(d!=p&&!(l&&p>d))return!1;var h=f.get(t);if(h&&f.get(e))return h==e;var v=-1,b=!0,m=r&a?new i:void 0;for(f.set(t,e),f.set(e,t);++v<d;){var y=t[v],g=e[v];if(n)var _=l?n(g,y,v,e,t,f):n(y,g,v,t,e,f);if(void 0!==_){if(_)continue;b=!1;break}if(m){if(!o(e,function(t,e){if(!u(m,e)&&(y===t||c(y,t,r,n,f)))return m.push(e)})){b=!1;break}}else if(y!==g&&!c(y,g,r,n,f)){b=!1;break}}return f.delete(t),f.delete(e),b}var i=r(176),o=r(259),u=r(181),s=1,a=2;t.exports=n},function(t,e){function r(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}t.exports=r},function(t,e){function r(t,e){return t===e||t!==t&&e!==e}t.exports=r},function(t,e,r){function n(t,e,r,n,u,a){var c=r&o,f=i(t),l=f.length,d=i(e),p=d.length;if(l!=p&&!c)return!1;for(var h=l;h--;){var v=f[h];if(!(c?v in e:s.call(e,v)))return!1}var b=a.get(t);if(b&&a.get(e))return b==e;var m=!0;a.set(t,e),a.set(e,t);for(var y=c;++h<l;){v=f[h];var g=t[v],_=e[v];if(n)var x=c?n(_,g,v,e,t,a):n(g,_,v,t,e,a);if(!(void 0===x?g===_||u(g,_,r,n,a):x)){m=!1;break}y||(y="constructor"==v)}if(m&&!y){var A=t.constructor,D=e.constructor;A!=D&&"constructor"in t&&"constructor"in e&&!("function"==typeof A&&A instanceof A&&"function"==typeof D&&D instanceof D)&&(m=!1)}return a.delete(t),a.delete(e),m}var i=r(34),o=1,u=Object.prototype,s=u.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(263),i=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=null),this.data=t,this.success=e,this.dataSource=r}return t.prototype.createDataSource=function(t){return this.dataSource?Promise.resolve(this.dataSource):Promise.resolve(new n.DummyDataSource(this.data,this.success))},t}();e.DummyAdapter=i},function(t,e){"use strict";function r(t){void 0===t&&(t=2);var e={headers:[]};return{dimensions:Array(t).fill(e),links:{executionResult:"/gdc/app/projects/myFakeProjectId/executionResults/123?limit=overridden&dimensions="+t}}}function n(){return{data:[[11,12],[51,52]],paging:{count:[2,2],offset:[0,0],total:[2,2]},headerItems:[[[{attributeHeaderItem:{name:"A1",uri:"/gdc/md/obj/attr1"}},{attributeHeaderItem:{name:"A2",uri:"/gdc/md/obj/attr2"}}]],[[{measureHeaderItem:{name:"M1",order:0}},{measureHeaderItem:{name:"M2",order:0}}]]]}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){void 0===e&&(e=!0),this.data=t,this.resolve=e,this.resultSpec={}}return t.prototype.getData=function(t){return this.resultSpec=t,this.resolve?Promise.resolve(this.data):Promise.reject("DummyDataSource reject")},t.prototype.getPage=function(t,e,i){return this.resultSpec=t,this.resolve?Promise.resolve({executionResponse:r(2),executionResult:n()}):Promise.reject("DummyDataSource reject")},t.prototype.getFingerprint=function(){return""},t.prototype.getResultSpec=function(){return this.resultSpec},t.prototype.getAfm=function(){return{}},t}();e.DummyDataSource=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(212),i=r(92),o=function(){function t(t,e){this.projectId=e,this.sdk=t.clone(),this.sdk.config.setJsPackage("@gooddata/data-layer",i.version)}return t.prototype.createDataSource=function(t,e){var r=this,i=function(e){var n={execution:{afm:t,resultSpec:e}};return r.sdk.execution.executeAfm(r.projectId,n)},o=function(e){var n={execution:{afm:t,resultSpec:e}};return r.sdk.execution.getExecutionResponse(r.projectId,n)},u=this.sdk.execution.getPartialExecutionResult,s=new n.DataSource(i,t,e,o,u);return Promise.resolve(s)},t}();e.ExecuteAfmAdapter=o},function(t,e,r){"use strict";function n(t,e){return new i.ExecuteAfmAdapter(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var i=r(264),o=r(247),u=r(253),s=r(92),a=function(){function t(t,e,r){void 0===r&&(r=n),this.projectId=e,this.executeAdapterFactory=r,this.sdk=t.clone(),this.sdk.config.setJsPackage("@gooddata/data-layer",s.version)}return t.prototype.createDataSource=function(t){var e=this;return this.fetchVisualizationObject(t.uri).then(function(r){var n=r.visualizationObject.content,i=o.toAfmResultSpec(n),s=i.afm,a=i.resultSpec,c=u.appendFilters(s,t.attributeFilters||[],t.dateFilter),f=e.executeAdapterFactory(e.sdk,e.projectId),l={execution:{afm:c,resultSpec:a}};return f.createDataSource(l)})},t.prototype.fetchVisualizationObject=function(t){var e=this;return t===this.uri&&this.visualizationObject?Promise.resolve(this.visualizationObject):this.sdk.xhr.get(t).then(function(r){var n=r.data;return e.uri=t,e.visualizationObject=n,n})},t}();e.UriAdapter=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e){"use strict";function r(t){return!!t.executionResponse}Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return!(!t||!t.type||void 0===t.value)};e.isGuidColorItem=function(t){return n(t)&&"guid"===t.type},e.isRgbColorItem=function(t){return n(t)&&"rgb"===t.type},e.isApiExecutionResponseError=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}])});